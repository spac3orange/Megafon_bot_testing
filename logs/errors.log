2023-10-09 02:22:57.068 | ERROR    | handlers.add_member:input_sub_time:51 - An error has been caught in function 'input_sub_time', process 'MainProcess' (12472), thread 'MainThread' (18788):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 55, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000165F4557880>
    │       └ <function run at 0x00000165EF6016C0>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000165F45582E0>
           │      └ <function Runner.run at 0x00000165EF669620>
           └ <asyncio.runners.Runner object at 0x00000165EF72BF90>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:50> wait_for=<Future pending cb=[Task...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000165EF667100>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000165EF72BF90>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x00000165EF73EF20>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000165EF668EA0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000165EF5B6660>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x165f448e250'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000165F44A1C50>,)}
                     │    │           │    └ Update(update_id=821892269, message=Message(message_id=146, date=datetime.datetime(2023, 10, 8, 19, 24, 55, tzinfo=TzInfo(UTC...
                     │    │           └ <aiogram.client.bot.Bot object at 0x00000165F44A1C50>
                     │    └ <function Dispatcher.feed_update at 0x00000165F43E3C40>
                     └ <Dispatcher '0x165f448e250'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000165F43E25C0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000165F45E9790>
                     └ <Dispatcher '0x165f448e250'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x165f448e250'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000165F44A1C50>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892269, message=Message(message_id=146, date=datetime.datetime(2023, 10, 8, 19, 24, 55, tzinfo=TzInfo(UTC...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x00000165F45EA050>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x165f448e250'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000165F44A1C50>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892269, message=Message(message_id=146, date=datetime.datetime(2023, 10, 8, 19, 24, 55, tzinfo=TzInfo(UTC...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x00000165F45E9FD0>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x165f448e250'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000165F44A1C50>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892269, message=Message(message_id=146, date=datetime.datetime(2023, 10, 8, 19, 24, 55, tzinfo=TzInfo(UTC...
                 └ <function TelegramEventObserver.trigger at 0x00000165F4604680>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x165f448e250'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000165F44A1C50>,), 'bot': <aiogra...
                 │             └ Update(update_id=821892269, message=Message(message_id=146, date=datetime.datetime(2023, 10, 8, 19, 24, 55, tzinfo=TzInfo(UTC...
                 └ <function CallableMixin.call at 0x00000165F4606DE0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x165f448e250'>>, Update(update_id=821892269, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x165f448e250'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000165F44A1C50>,), 'bot': <aiogra...
                 │    │                           │                  └ Message(message_id=146, date=datetime.datetime(2023, 10, 8, 19, 24, 55, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x00000165F43E3240>
                 └ <Dispatcher '0x165f448e250'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x165f448e250'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000165F44A1C50>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=146, date=datetime.datetime(2023, 10, 8, 19, 24, 55, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000165F4606160>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000165F43E25C0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000165F45E6D90>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x00000165F43E32E0>
                 └ <Dispatcher '0x165f448e250'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x165f448e250'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000165F44A1C50>,), 'bot': <aiogra...
                     │      │                           │                  └ Message(message_id=146, date=datetime.datetime(2023, 10, 8, 19, 24, 55, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x00000165F43E3240>
                     └ <Router '0x165f4472d50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x165f448e250'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000165F44A1C50>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=146, date=datetime.datetime(2023, 10, 8, 19, 24, 55, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000165F4606980>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000165F43E25C0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000165F45B7390>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x00000165F43E32E0>
                 └ <Router '0x165f4472d50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x165f448e250'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000165F44A1C50>,), 'bot': <aiogra...
                     │        │       └ Message(message_id=146, date=datetime.datetime(2023, 10, 8, 19, 24, 55, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                     │        └ <function TelegramEventObserver.trigger at 0x00000165F43E2700>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000165F45B7390>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x165f448e250'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000165F44A1C50>,), 'bot': <aiogra...
                 │             └ Message(message_id=146, date=datetime.datetime(2023, 10, 8, 19, 24, 55, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 └ <function CallableMixin.call at 0x00000165F4606CA0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function input_sub_time at 0x00000165F45AEB60>, Message(message_id=146, date=datetime.datetime(2023, 10, 8...

> File "D:\Work Projects\Megafon_bot\handlers\add_member.py", line 51, in input_sub_time
    await db_add_user(user_info['id'], user_info['subscription_until'])
          │           │                └ {'id': '1234', 'subscription_until': '20'}
          │           └ {'id': '1234', 'subscription_until': '20'}
          └ <function db_add_user at 0x00000165F4583CE0>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 42, in db_add_user
    cur.execute("INSERT INTO profile(user_id, sub_until) VALUES (?, ?)", (user_id, sub_until))  # Выполняем SQL-запрос
    │   │                                                                 │        └ '20'
    │   │                                                                 └ '1234'
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x00000165F29F23C0>

sqlite3.OperationalError: no such table: profile
2023-10-09 03:05:07.633 | ERROR    | filters.known_user:get_all_users:14 - An error has been caught in function 'get_all_users', process 'MainProcess' (17960), thread 'MainThread' (13612):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 55, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001623E417880>
    │       └ <function run at 0x00000162394C16C0>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001623E41C3C0>
           │      └ <function Runner.run at 0x0000016239529620>
           └ <asyncio.runners.Runner object at 0x00000162375312D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:50> wait_for=<Future pending cb=[Task...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000016239527100>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000162375312D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x00000162395FEF20>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000016239528EA0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000016239476660>
    └ <Handle <TaskStepMethWrapper object at 0x000001623E4C5A20>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001623E4C5A20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001623E4C5A20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001623E4C5A20>()>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1623e4a7790'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001623E3613D0>,)}
                     │    │           │    └ Update(update_id=821892273, message=Message(message_id=154, date=datetime.datetime(2023, 10, 8, 20, 7, 5, tzinfo=TzInfo(UTC))...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001623E3613D0>
                     │    └ <function Dispatcher.feed_update at 0x000001623E2A3C40>
                     └ <Dispatcher '0x1623e4a7790'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001623E2A25C0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001623E34E090>
                     └ <Dispatcher '0x1623e4a7790'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1623e4a7790'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001623E3613D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892273, message=Message(message_id=154, date=datetime.datetime(2023, 10, 8, 20, 7, 5, tzinfo=TzInfo(UTC))...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001623E4AEA90>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1623e4a7790'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001623E3613D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892273, message=Message(message_id=154, date=datetime.datetime(2023, 10, 8, 20, 7, 5, tzinfo=TzInfo(UTC))...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001623E4AEA10>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1623e4a7790'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001623E3613D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892273, message=Message(message_id=154, date=datetime.datetime(2023, 10, 8, 20, 7, 5, tzinfo=TzInfo(UTC))...
                 └ <function TelegramEventObserver.trigger at 0x000001623E4B5DA0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1623e4a7790'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001623E3613D0>,), 'bot': <aiogra...
                 │             └ Update(update_id=821892273, message=Message(message_id=154, date=datetime.datetime(2023, 10, 8, 20, 7, 5, tzinfo=TzInfo(UTC))...
                 └ <function CallableMixin.call at 0x000001623E4D23E0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1623e4a7790'>>, Update(update_id=821892273, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1623e4a7790'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001623E3613D0>,), 'bot': <aiogra...
                 │    │                           │                  └ Message(message_id=154, date=datetime.datetime(2023, 10, 8, 20, 7, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='priv...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x000001623E2A3240>
                 └ <Dispatcher '0x1623e4a7790'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1623e4a7790'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001623E3613D0>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=154, date=datetime.datetime(2023, 10, 8, 20, 7, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='priv...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001623E4D0900>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001623E2A25C0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001623E4A7810>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001623E2A32E0>
                 └ <Dispatcher '0x1623e4a7790'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1623e4a7790'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001623E3613D0>,), 'bot': <aiogra...
                     │      │                           │                  └ Message(message_id=154, date=datetime.datetime(2023, 10, 8, 20, 7, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='priv...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x000001623E2A3240>
                     └ <Router '0x1623e34d810'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1623e4a7790'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001623E3613D0>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=154, date=datetime.datetime(2023, 10, 8, 20, 7, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='priv...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001623E4D2C00>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001623E2A25C0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001623E45F6D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001623E2A32E0>
                 └ <Router '0x1623e34d810'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1623e4a7790'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001623E3613D0>,), 'bot': <aiogra...
                     │        │       └ Message(message_id=154, date=datetime.datetime(2023, 10, 8, 20, 7, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='priv...
                     │        └ <function TelegramEventObserver.trigger at 0x000001623E2A2700>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001623E45F6D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 112, in trigger
    result, data = await handler.check(event, **kwargs)
                         │       │     │        └ {'dispatcher': <Dispatcher '0x1623e4a7790'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001623E3613D0>,), 'bot': <aiogra...
                         │       │     └ Message(message_id=154, date=datetime.datetime(2023, 10, 8, 20, 7, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='priv...
                         │       └ <function HandlerObject.check at 0x000001623E2A1DA0>
                         └ HandlerObject(callback=<function process_start_command at 0x000001623E4696C0>, awaitable=True, spec=FullArgSpec(args=['messag...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 93, in check
    check = await event_filter.call(*args, **kwargs)
                  │            │     │       └ {'dispatcher': <Dispatcher '0x1623e4a7790'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001623E3613D0>,), 'bot': <aiogra...
                  │            │     └ (Message(message_id=154, date=datetime.datetime(2023, 10, 8, 20, 7, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pri...
                  │            └ <function CallableMixin.call at 0x000001623E2A14E0>
                  └ FilterObject(callback=<filters.known_user.KnownUser object at 0x000001623E361B50>, awaitable=True, spec=FullArgSpec(args=['se...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<filters.known_user.KnownUser object at 0x000001623E361B50>, Message(message_id=154, date=datetime.datetime...

  File "D:\Work Projects\Megafon_bot\filters\known_user.py", line 18, in __call__
    users = await self.known_users
                  │    └ <coroutine object KnownUser.get_all_users at 0x000001623E454D40>
                  └ <filters.known_user.KnownUser object at 0x000001623E361B50>

> File "D:\Work Projects\Megafon_bot\filters\known_user.py", line 14, in get_all_users
    users = await db_get_users()
                  └ <function db_get_users at 0x000001623E4684A0>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 66, in db_get_users
    cur.execute("SELECT user_id FROM profile")  # Выполняем SQL-запрос для получения всех пользователей
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x000001623E607340>

sqlite3.OperationalError: no such table: profile
2023-10-09 03:08:41.135 | ERROR    | filters.known_user:get_all_users:14 - An error has been caught in function 'get_all_users', process 'MainProcess' (14560), thread 'MainThread' (16500):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 55, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000029D926D7880>
    │       └ <function run at 0x0000029D8D7816C0>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000029D926E03C0>
           │      └ <function Runner.run at 0x0000029D8D7E9620>
           └ <asyncio.runners.Runner object at 0x0000029D8B7F12D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:50> wait_for=<Future pending cb=[Task...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000029D8D7E7100>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000029D8B7F12D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000029D8D8BEF20>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000029D8D7E8EA0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000029D8D736660>
    └ <Handle <TaskStepMethWrapper object at 0x0000029D92785990>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000029D92785990>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000029D92785990>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000029D92785990>()>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x29d92763f50'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000029D925F3090>,)}
                     │    │           │    └ Update(update_id=821892274, message=Message(message_id=155, date=datetime.datetime(2023, 10, 8, 20, 10, 38, tzinfo=TzInfo(UTC...
                     │    │           └ <aiogram.client.bot.Bot object at 0x0000029D925F3090>
                     │    └ <function Dispatcher.feed_update at 0x0000029D92563C40>
                     └ <Dispatcher '0x29d92763f50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000029D925625C0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000029D9276E990>
                     └ <Dispatcher '0x29d92763f50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x29d92763f50'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000029D925F3090>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892274, message=Message(message_id=155, date=datetime.datetime(2023, 10, 8, 20, 10, 38, tzinfo=TzInfo(UTC...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x0000029D9260F050>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x29d92763f50'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000029D925F3090>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892274, message=Message(message_id=155, date=datetime.datetime(2023, 10, 8, 20, 10, 38, tzinfo=TzInfo(UTC...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x0000029D9276F210>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x29d92763f50'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000029D925F3090>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892274, message=Message(message_id=155, date=datetime.datetime(2023, 10, 8, 20, 10, 38, tzinfo=TzInfo(UTC...
                 └ <function TelegramEventObserver.trigger at 0x0000029D92775D00>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x29d92763f50'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000029D925F3090>,), 'bot': <aiogra...
                 │             └ Update(update_id=821892274, message=Message(message_id=155, date=datetime.datetime(2023, 10, 8, 20, 10, 38, tzinfo=TzInfo(UTC...
                 └ <function CallableMixin.call at 0x0000029D92792340>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x29d92763f50'>>, Update(update_id=821892274, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x29d92763f50'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000029D925F3090>,), 'bot': <aiogra...
                 │    │                           │                  └ Message(message_id=155, date=datetime.datetime(2023, 10, 8, 20, 10, 38, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x0000029D92563240>
                 └ <Dispatcher '0x29d92763f50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x29d92763f50'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000029D925F3090>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=155, date=datetime.datetime(2023, 10, 8, 20, 10, 38, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000029D92790860>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000029D925625C0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000029D92763FD0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000029D925632E0>
                 └ <Dispatcher '0x29d92763f50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x29d92763f50'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000029D925F3090>,), 'bot': <aiogra...
                     │      │                           │                  └ Message(message_id=155, date=datetime.datetime(2023, 10, 8, 20, 10, 38, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x0000029D92563240>
                     └ <Router '0x29d9271fc10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x29d92763f50'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000029D925F3090>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=155, date=datetime.datetime(2023, 10, 8, 20, 10, 38, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000029D92792B60>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000029D925625C0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000029D9271FBD0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000029D925632E0>
                 └ <Router '0x29d9271fc10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x29d92763f50'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000029D925F3090>,), 'bot': <aiogra...
                     │        │       └ Message(message_id=155, date=datetime.datetime(2023, 10, 8, 20, 10, 38, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                     │        └ <function TelegramEventObserver.trigger at 0x0000029D92562700>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000029D9271FBD0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 112, in trigger
    result, data = await handler.check(event, **kwargs)
                         │       │     │        └ {'dispatcher': <Dispatcher '0x29d92763f50'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000029D925F3090>,), 'bot': <aiogra...
                         │       │     └ Message(message_id=155, date=datetime.datetime(2023, 10, 8, 20, 10, 38, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                         │       └ <function HandlerObject.check at 0x0000029D92561DA0>
                         └ HandlerObject(callback=<function process_start_command at 0x0000029D927296C0>, awaitable=True, spec=FullArgSpec(args=['messag...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 93, in check
    check = await event_filter.call(*args, **kwargs)
                  │            │     │       └ {'dispatcher': <Dispatcher '0x29d92763f50'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000029D925F3090>,), 'bot': <aiogra...
                  │            │     └ (Message(message_id=155, date=datetime.datetime(2023, 10, 8, 20, 10, 38, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='p...
                  │            └ <function CallableMixin.call at 0x0000029D925614E0>
                  └ FilterObject(callback=<filters.known_user.KnownUser object at 0x0000029D92734910>, awaitable=True, spec=FullArgSpec(args=['se...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<filters.known_user.KnownUser object at 0x0000029D92734910>, Message(message_id=155, date=datetime.datetime...

  File "D:\Work Projects\Megafon_bot\filters\known_user.py", line 18, in __call__
    users = await self.known_users
                  │    └ <coroutine object KnownUser.get_all_users at 0x0000029D92714D40>
                  └ <filters.known_user.KnownUser object at 0x0000029D92734910>

> File "D:\Work Projects\Megafon_bot\filters\known_user.py", line 14, in get_all_users
    users = await db_get_users()
                  └ <function db_get_users at 0x0000029D927284A0>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 66, in db_get_users
    cur.execute("SELECT user_id FROM profile")  # Выполняем SQL-запрос для получения всех пользователей
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000029D928C78C0>

sqlite3.OperationalError: no such table: profile
2023-10-09 04:02:23.959 | ERROR    | __main__:main:31 - An error has been caught in function 'main', process 'MainProcess' (16488), thread 'MainThread' (17428):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 57, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001FFEBCC7880>
    │       └ <function run at 0x000001FFE6D916C0>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001FFEBCCC3C0>
           │      └ <function Runner.run at 0x000001FFE6DF9620>
           └ <asyncio.runners.Runner object at 0x000001FFE4E91350>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:31> cb=[_run_until_complete_cb() at C...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001FFE6DF7100>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001FFE4E91350>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001FFE6EBEF20>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001FFE6DF8EA0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001FFE6D46660>
    └ <Handle <TaskStepMethWrapper object at 0x000001FFEBABEB60>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001FFEBABEB60>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001FFEBABEB60>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001FFEBABEB60>()>

> File "D:\Work Projects\Megafon_bot\bot.py", line 31, in main
    users = await db_get_users()
                  └ <function db_get_users at 0x000001FFEBD1C4A0>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 66, in db_get_users
    cur.execute("SELECT user_id FROM profile")  # Выполняем SQL-запрос для получения всех пользователей
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x000001FFEA10E8C0>

sqlite3.OperationalError: no such table: profile
2023-10-09 04:49:35.586 | ERROR    | handlers.remove_member:input_uid:31 - An error has been caught in function 'input_uid', process 'MainProcess' (12876), thread 'MainThread' (15308):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 58, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001C30D7877E0>
    │       └ <function run at 0x000001C308821620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001C30D78CD60>
           │      └ <function Runner.run at 0x000001C308889580>
           └ <asyncio.runners.Runner object at 0x000001C308897AD0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:53> wait_for=<Future pending cb=[Task...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001C308887060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001C308897AD0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001C30895EE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C308888E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C3087D65C0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1c30d74c150'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001C30D6C0150>,)}
                     │    │           │    └ Update(update_id=821892298, message=Message(message_id=196, date=datetime.datetime(2023, 10, 8, 21, 51, 33, tzinfo=TzInfo(UTC...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001C30D6C0150>
                     │    └ <function Dispatcher.feed_update at 0x000001C30D603BA0>
                     └ <Dispatcher '0x1c30d74c150'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001C30D602520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001C30D81A890>
                     └ <Dispatcher '0x1c30d74c150'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1c30d74c150'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001C30D6C0150>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892298, message=Message(message_id=196, date=datetime.datetime(2023, 10, 8, 21, 51, 33, tzinfo=TzInfo(UTC...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001C30D81B190>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1c30d74c150'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001C30D6C0150>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892298, message=Message(message_id=196, date=datetime.datetime(2023, 10, 8, 21, 51, 33, tzinfo=TzInfo(UTC...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001C30D81B110>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1c30d74c150'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001C30D6C0150>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892298, message=Message(message_id=196, date=datetime.datetime(2023, 10, 8, 21, 51, 33, tzinfo=TzInfo(UTC...
                 └ <function TelegramEventObserver.trigger at 0x000001C30D826840>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1c30d74c150'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001C30D6C0150>,), 'bot': <aiogra...
                 │             └ Update(update_id=821892298, message=Message(message_id=196, date=datetime.datetime(2023, 10, 8, 21, 51, 33, tzinfo=TzInfo(UTC...
                 └ <function CallableMixin.call at 0x000001C30D84B9C0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1c30d74c150'>>, Update(update_id=821892298, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1c30d74c150'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001C30D6C0150>,), 'bot': <aiogra...
                 │    │                           │                  └ Message(message_id=196, date=datetime.datetime(2023, 10, 8, 21, 51, 33, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x000001C30D6031A0>
                 └ <Dispatcher '0x1c30d74c150'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1c30d74c150'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001C30D6C0150>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=196, date=datetime.datetime(2023, 10, 8, 21, 51, 33, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001C30D84B560>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001C30D602520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001C30D6C07D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001C30D603240>
                 └ <Dispatcher '0x1c30d74c150'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1c30d74c150'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001C30D6C0150>,), 'bot': <aiogra...
                     │      │                           │                  └ Message(message_id=196, date=datetime.datetime(2023, 10, 8, 21, 51, 33, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x000001C30D6031A0>
                     └ <Router '0x1c30d7ed9d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1c30d74c150'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001C30D6C0150>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=196, date=datetime.datetime(2023, 10, 8, 21, 51, 33, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001C30D84B880>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001C30D602520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001C30D7EDB90>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001C30D603240>
                 └ <Router '0x1c30d7ed9d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1c30d74c150'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001C30D6C0150>,), 'bot': <aiogra...
                     │        │       └ Message(message_id=196, date=datetime.datetime(2023, 10, 8, 21, 51, 33, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                     │        └ <function TelegramEventObserver.trigger at 0x000001C30D602660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001C30D7EDB90>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1c30d74c150'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001C30D6C0150>,), 'bot': <aiogra...
                 │             └ Message(message_id=196, date=datetime.datetime(2023, 10, 8, 21, 51, 33, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 └ <function CallableMixin.call at 0x000001C30D84B920>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function input_uid at 0x000001C30D7DB740>, Message(message_id=196, date=datetime.datetime(2023, 10, 8, 21,...

> File "D:\Work Projects\Megafon_bot\handlers\remove_member.py", line 31, in input_uid
    await db_remove_user(user_data['id'])
          │              └ {'id': '6505935002'}
          └ <function db_remove_user at 0x000001C30D7B3F60>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 55, in db_remove_user
    cur.execute("DELETE FROM profile WHERE user_id = ?", (user_id,))  # Выполняем SQL-запрос для удаления пользователя
    │   │                                                 └ '6505935002'
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x000001C30D985EC0>

sqlite3.OperationalError: no such table: profile
2023-10-10 03:07:04.506 | ERROR    | handlers.add_combination:save_combination:38 - An error has been caught in function 'save_combination', process 'MainProcess' (16240), thread 'MainThread' (19336):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 64, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000026FAFBF04A0>
    │       └ <function run at 0x0000026FB1D216C0>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000026FB6C834C0>
           │      └ <function Runner.run at 0x0000026FB1D89620>
           └ <asyncio.runners.Runner object at 0x0000026FB6CEA510>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:59> wait_for=<Future pending cb=[Task...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000026FB1D87100>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000026FB6CEA510>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000026FB1E5AF20>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000026FB1D88EA0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000026FB1CD6660>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x26fb6baf2d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000026FB6BAD590>,)}
                     │    │           │    └ Update(update_id=821892403, message=Message(message_id=389, date=datetime.datetime(2023, 10, 9, 20, 9, 2, tzinfo=TzInfo(UTC))...
                     │    │           └ <aiogram.client.bot.Bot object at 0x0000026FB6BAD590>
                     │    └ <function Dispatcher.feed_update at 0x0000026FB6B03C40>
                     └ <Dispatcher '0x26fb6baf2d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000026FB6B025C0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000026FB6D2FA90>
                     └ <Dispatcher '0x26fb6baf2d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x26fb6baf2d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000026FB6BAD590>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892403, message=Message(message_id=389, date=datetime.datetime(2023, 10, 9, 20, 9, 2, tzinfo=TzInfo(UTC))...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x0000026FB68D3450>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x26fb6baf2d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000026FB6BAD590>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892403, message=Message(message_id=389, date=datetime.datetime(2023, 10, 9, 20, 9, 2, tzinfo=TzInfo(UTC))...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x0000026FB6D383D0>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x26fb6baf2d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000026FB6BAD590>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892403, message=Message(message_id=389, date=datetime.datetime(2023, 10, 9, 20, 9, 2, tzinfo=TzInfo(UTC))...
                 └ <function TelegramEventObserver.trigger at 0x0000026FB6DAA3E0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x26fb6baf2d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000026FB6BAD590>,), 'bot': <aiogra...
                 │             └ Update(update_id=821892403, message=Message(message_id=389, date=datetime.datetime(2023, 10, 9, 20, 9, 2, tzinfo=TzInfo(UTC))...
                 └ <function CallableMixin.call at 0x0000026FB6DA9C60>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x26fb6baf2d0'>>, Update(update_id=821892403, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x26fb6baf2d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000026FB6BAD590>,), 'bot': <aiogra...
                 │    │                           │                  └ Message(message_id=389, date=datetime.datetime(2023, 10, 9, 20, 9, 2, tzinfo=TzInfo(UTC)), chat=Chat(id=6505935002, type='pri...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x0000026FB6B03240>
                 └ <Dispatcher '0x26fb6baf2d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x26fb6baf2d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000026FB6BAD590>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=389, date=datetime.datetime(2023, 10, 9, 20, 9, 2, tzinfo=TzInfo(UTC)), chat=Chat(id=6505935002, type='pri...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000026FB6DAA2A0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000026FB6B025C0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000026FB6D2D0D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000026FB6B032E0>
                 └ <Dispatcher '0x26fb6baf2d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x26fb6baf2d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000026FB6BAD590>,), 'bot': <aiogra...
                     │      │                           │                  └ Message(message_id=389, date=datetime.datetime(2023, 10, 9, 20, 9, 2, tzinfo=TzInfo(UTC)), chat=Chat(id=6505935002, type='pri...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x0000026FB6B03240>
                     └ <Router '0x26fb6cf2410'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x26fb6baf2d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000026FB6BAD590>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=389, date=datetime.datetime(2023, 10, 9, 20, 9, 2, tzinfo=TzInfo(UTC)), chat=Chat(id=6505935002, type='pri...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000026FB6DA9BC0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000026FB6B025C0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000026FB6CF2490>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000026FB6B032E0>
                 └ <Router '0x26fb6cf2410'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x26fb6baf2d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000026FB6BAD590>,), 'bot': <aiogra...
                     │        │       └ Message(message_id=389, date=datetime.datetime(2023, 10, 9, 20, 9, 2, tzinfo=TzInfo(UTC)), chat=Chat(id=6505935002, type='pri...
                     │        └ <function TelegramEventObserver.trigger at 0x0000026FB6B02700>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000026FB6CF2490>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x26fb6baf2d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000026FB6BAD590>,), 'bot': <aiogra...
                 │             └ Message(message_id=389, date=datetime.datetime(2023, 10, 9, 20, 9, 2, tzinfo=TzInfo(UTC)), chat=Chat(id=6505935002, type='pri...
                 └ <function CallableMixin.call at 0x0000026FB6DA9F80>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function save_combination at 0x0000026FB6CED8A0>, Message(message_id=389, date=datetime.datetime(2023, 10,...

> File "D:\Work Projects\Megafon_bot\handlers\add_combination.py", line 38, in save_combination
    await db_add_combination(uid, comb)
          │                  │    └ 'Hshshd'
          │                  └ 6505935002
          └ <function db_add_combination at 0x0000026FB6CD0B80>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 109, in db_add_combination
    current_combinations = cur.fetchone()[0]
                           │   └ <method 'fetchone' of 'sqlite3.Cursor' objects>
                           └ <sqlite3.Cursor object at 0x0000026FB50C97C0>

TypeError: 'NoneType' object is not subscriptable
2023-10-10 04:30:04.974 | ERROR    | __main__:main:58 - An error has been caught in function 'main', process 'MainProcess' (18452), thread 'MainThread' (11112):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 67, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000019958D104A0>
    │       └ <function run at 0x000001995AE916C0>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001995FE11D50>
           │      └ <function Runner.run at 0x000001995AEF9620>
           └ <asyncio.runners.Runner object at 0x000001995FD03310>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:58> cb=[_run_until_complete_cb() at C...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001995AEF7100>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001995FD03310>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001995AFC6F20>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001995AEF8EA0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001995AE46660>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "D:\Work Projects\Megafon_bot\bot.py", line 58, in main
    await db_add_user(int(config.admin_id))
          │               │      └ '462813109'
          │               └ Config(tg_bot=TgBot(token='6361303996:AAGC6gTb4EwzXPgttes-4QfPC1eKqv1HN2Q'), admin_id='462813109')
          └ <function db_add_user at 0x000001995FE0FCE0>

TypeError: db_add_user() missing 1 required positional argument: 'sub_until'
2023-10-13 07:17:17.942 | ERROR    | __main__:get_all_data:12 - An error has been caught in function 'get_all_data', process 'MainProcess' (17348), thread 'MainThread' (15448):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\test.py", line 27, in <module>
    asyncio.run(get_all_data(bot))
    │       │   │            └ <aiogram.client.bot.Bot object at 0x00000199611F23D0>
    │       │   └ <function get_all_data at 0x000001995EF704A0>
    │       └ <function run at 0x00000199610B1620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object get_all_data at 0x00000199663D7940>
           │      └ <function Runner.run at 0x0000019961119580>
           └ <asyncio.runners.Runner object at 0x00000199663B7AD0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<get_all_data() running at D:\Work Projects\Megafon_bot\test.py:12> cb=[_run_until_complete_...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000019961117060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000199663B7AD0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x00000199611E6E80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000019961118E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000199610665C0>
    └ <Handle <TaskStepMethWrapper object at 0x000001996648FC70>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001996648FC70>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001996648FC70>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001996648FC70>()>

> File "D:\Work Projects\Megafon_bot\test.py", line 12, in get_all_data
    data = await get_all_combinations_list()
                 └ <function get_all_combinations_list at 0x00000199664851C0>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 205, in get_all_combinations_list
    cur.execute("SELECT user_id, combinations FROM profile")  # Execute SQL query to retrieve all users and their combinations
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x00000199664C37C0>

sqlite3.OperationalError: no such table: profile
2023-10-13 07:25:58.659 | ERROR    | handlers.combinations.get_combinations:get_combinations:18 - An error has been caught in function 'get_combinations', process 'MainProcess' (15848), thread 'MainThread' (17316):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 79, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000158B66332E0>
    │       └ <function run at 0x00000158B11D1620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000158B657B300>
           │      └ <function Runner.run at 0x00000158B1241580>
           └ <asyncio.runners.Runner object at 0x00000158B6640110>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:74> wait_for=<Future pending cb=[Task...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000158B1237060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000158B6640110>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x00000158B130AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000158B1240E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000158B11865C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x158b65019d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000158B60E3A50>,)}
                     │    │           │    └ Update(update_id=821892876, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x00000158B60E3A50>
                     │    └ <function Dispatcher.feed_update at 0x00000158B5FB7BA0>
                     └ <Dispatcher '0x158b65019d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000158B5FB6520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000158B606E210>
                     └ <Dispatcher '0x158b65019d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x158b65019d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000158B60E3A50>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892876, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x00000158B606CBD0>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x158b65019d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000158B60E3A50>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892876, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x00000158B663FE50>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x158b65019d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000158B60E3A50>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892876, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x00000158B6653D80>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x158b65019d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000158B60E3A50>,), 'bot': <aiogra...
                 │             └ Update(update_id=821892876, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x00000158B6652160>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x158b65019d0'>>, Update(update_id=821892876, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x158b65019d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000158B60E3A50>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='272661953755606342', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x00000158B5FB71A0>
                 └ <Dispatcher '0x158b65019d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x158b65019d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000158B60E3A50>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661953755606342', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000158B66505E0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000158B5FB6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000158B663D950>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x00000158B5FB7240>
                 └ <Dispatcher '0x158b65019d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x158b65019d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000158B60E3A50>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='272661953755606342', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x00000158B5FB71A0>
                     └ <Router '0x158b6580590'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x158b65019d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000158B60E3A50>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661953755606342', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000158B66520C0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000158B5FB6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000158B66298D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x00000158B5FB7240>
                 └ <Router '0x158b6580590'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x158b65019d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000158B60E3A50>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='272661953755606342', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │        └ <function TelegramEventObserver.trigger at 0x00000158B5FB6660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000158B66298D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x158b65019d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000158B60E3A50>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='272661953755606342', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 └ <function CallableMixin.call at 0x00000158B6653920>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x00000158B6630540>, CallbackQuery(id='272661953755606342', from_user=User(id...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\get_combinations.py", line 18, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 6505935002
                         └ <function db_get_user_combinations at 0x00000158B618CFE0>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 153, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-13 07:27:36.676 | ERROR    | handlers.combinations.get_combinations:get_combinations:18 - An error has been caught in function 'get_combinations', process 'MainProcess' (1708), thread 'MainThread' (16892):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 79, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001FE4F1032E0>
    │       └ <function run at 0x000001FE49CE1620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001FE4F04F300>
           │      └ <function Runner.run at 0x000001FE49D51580>
           └ <asyncio.runners.Runner object at 0x000001FE4EB3F650>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:74> wait_for=<Future pending cb=[Task...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001FE49D47060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001FE4EB3F650>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001FE49E0AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001FE49D50E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001FE49C965C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,)}
                     │    │           │    └ Update(update_id=821892877, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001FE4EFD0450>
                     │    └ <function Dispatcher.feed_update at 0x000001FE4EA87BA0>
                     └ <Dispatcher '0x1fe4ec3cb10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FE4EA86520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FE4F115150>
                     └ <Dispatcher '0x1fe4ec3cb10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892877, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001FE4EB3FF90>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892877, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001FE4E7C8B90>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892877, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000001FE4F103740>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │             └ Update(update_id=821892877, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000001FE4F1220C0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1fe4ec3cb10'>>, Update(update_id=821892877, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='272661955936631586', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000001FE4EA871A0>
                 └ <Dispatcher '0x1fe4ec3cb10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661955936631586', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001FE4F122200>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FE4EA86520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FE4F10F1D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001FE4EA87240>
                 └ <Dispatcher '0x1fe4ec3cb10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='272661955936631586', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000001FE4EA871A0>
                     └ <Router '0x1fe4f0f9bd0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661955936631586', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001FE4F103920>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FE4EA86520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FE4F0FB150>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001FE4EA87240>
                 └ <Router '0x1fe4f0f9bd0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='272661955936631586', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │        └ <function TelegramEventObserver.trigger at 0x000001FE4EA86660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FE4F0FB150>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='272661955936631586', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 └ <function CallableMixin.call at 0x000001FE4F122020>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x000001FE4F100540>, CallbackQuery(id='272661955936631586', from_user=User(id...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\get_combinations.py", line 18, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 6505935002
                         └ <function db_get_user_combinations at 0x000001FE4EC60FE0>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 153, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-13 07:27:49.920 | ERROR    | handlers.combinations.get_combinations:get_combinations:18 - An error has been caught in function 'get_combinations', process 'MainProcess' (1708), thread 'MainThread' (16892):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 79, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001FE4F1032E0>
    │       └ <function run at 0x000001FE49CE1620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001FE4F04F300>
           │      └ <function Runner.run at 0x000001FE49D51580>
           └ <asyncio.runners.Runner object at 0x000001FE4EB3F650>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:74> wait_for=<Future pending cb=[Task...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001FE49D47060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001FE4EB3F650>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001FE49E0AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001FE49D50E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001FE49C965C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,)}
                     │    │           │    └ Update(update_id=821892878, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001FE4EFD0450>
                     │    └ <function Dispatcher.feed_update at 0x000001FE4EA87BA0>
                     └ <Dispatcher '0x1fe4ec3cb10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FE4EA86520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FE4F115150>
                     └ <Dispatcher '0x1fe4ec3cb10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892878, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001FE4EB3FF90>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892878, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001FE4E7C8B90>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892878, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000001FE4F1036A0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │             └ Update(update_id=821892878, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000001FE4F33C220>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1fe4ec3cb10'>>, Update(update_id=821892878, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='272661956772750966', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000001FE4EA871A0>
                 └ <Dispatcher '0x1fe4ec3cb10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661956772750966', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001FE4F33C180>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FE4EA86520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FE4F10F1D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001FE4EA87240>
                 └ <Dispatcher '0x1fe4ec3cb10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='272661956772750966', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000001FE4EA871A0>
                     └ <Router '0x1fe4f0f9bd0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661956772750966', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001FE4F121EE0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FE4EA86520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FE4F0FB150>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001FE4EA87240>
                 └ <Router '0x1fe4f0f9bd0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='272661956772750966', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │        └ <function TelegramEventObserver.trigger at 0x000001FE4EA86660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FE4F0FB150>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='272661956772750966', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 └ <function CallableMixin.call at 0x000001FE4F33C360>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x000001FE4F100540>, CallbackQuery(id='272661956772750966', from_user=User(id...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\get_combinations.py", line 18, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 6505935002
                         └ <function db_get_user_combinations at 0x000001FE4EC60FE0>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 153, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-13 07:28:04.157 | ERROR    | handlers.combinations.get_combinations:get_combinations:18 - An error has been caught in function 'get_combinations', process 'MainProcess' (1708), thread 'MainThread' (16892):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 79, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001FE4F1032E0>
    │       └ <function run at 0x000001FE49CE1620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001FE4F04F300>
           │      └ <function Runner.run at 0x000001FE49D51580>
           └ <asyncio.runners.Runner object at 0x000001FE4EB3F650>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:74> wait_for=<Future pending cb=[Task...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001FE49D47060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001FE4EB3F650>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001FE49E0AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001FE49D50E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001FE49C965C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,)}
                     │    │           │    └ Update(update_id=821892881, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001FE4EFD0450>
                     │    └ <function Dispatcher.feed_update at 0x000001FE4EA87BA0>
                     └ <Dispatcher '0x1fe4ec3cb10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FE4EA86520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FE4F115150>
                     └ <Dispatcher '0x1fe4ec3cb10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892881, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001FE4EB3FF90>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892881, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001FE4E7C8B90>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892881, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000001FE4F103880>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │             └ Update(update_id=821892881, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000001FE4F33C680>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1fe4ec3cb10'>>, Update(update_id=821892881, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='272661956479158821', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000001FE4EA871A0>
                 └ <Dispatcher '0x1fe4ec3cb10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661956479158821', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001FE4F33C860>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FE4EA86520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FE4F10F1D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001FE4EA87240>
                 └ <Dispatcher '0x1fe4ec3cb10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='272661956479158821', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000001FE4EA871A0>
                     └ <Router '0x1fe4f0f9bd0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661956479158821', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001FE4F33C7C0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FE4EA86520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FE4F0FB150>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001FE4EA87240>
                 └ <Router '0x1fe4f0f9bd0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='272661956479158821', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │        └ <function TelegramEventObserver.trigger at 0x000001FE4EA86660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FE4F0FB150>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1fe4ec3cb10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FE4EFD0450>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='272661956479158821', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 └ <function CallableMixin.call at 0x000001FE4F33CB80>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x000001FE4F100540>, CallbackQuery(id='272661956479158821', from_user=User(id...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\get_combinations.py", line 18, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 6505935002
                         └ <function db_get_user_combinations at 0x000001FE4EC60FE0>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 153, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 00:25:44.824 | ERROR    | handlers.notifications.not_menu:combinations_menu:16 - An error has been caught in function 'combinations_menu', process 'MainProcess' (16460), thread 'MainThread' (16048):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000002B5F4F58CC0>
    │       └ <function run at 0x000002B5F6EC9620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000002B5FC3966C0>
           │      └ <function Runner.run at 0x000002B5F6F41580>
           └ <asyncio.runners.Runner object at 0x000002B5FBCCA110>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002B5F6F3B060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000002B5FBCCA110>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002B5F700AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002B5F6F40E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002B5F6E865C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x2b5fbd6c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B5FBD5C650>,)}
                     │    │           │    └ Update(update_id=821892988, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000002B5FBD5C650>
                     │    └ <function Dispatcher.feed_update at 0x000002B5FBCB7BA0>
                     └ <Dispatcher '0x2b5fbd6c110'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002B5FBCB6520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002B5FC2B7710>
                     └ <Dispatcher '0x2b5fbd6c110'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2b5fbd6c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B5FBD5C650>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892988, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000002B5FC213910>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2b5fbd6c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B5FBD5C650>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892988, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000002B5FC42E4D0>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2b5fbd6c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B5FBD5C650>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892988, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000002B5FC45E160>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2b5fbd6c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B5FBD5C650>,), 'bot': <aiogra...
                 │             └ Update(update_id=821892988, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000002B5FC45E8E0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x2b5fbd6c110'>>, Update(update_id=821892988, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x2b5fbd6c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B5FBD5C650>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767169751343309', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000002B5FBCB71A0>
                 └ <Dispatcher '0x2b5fbd6c110'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2b5fbd6c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B5FBD5C650>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767169751343309', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002B5FC45E480>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002B5FBCB6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002B5FC427ED0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002B5FBCB7240>
                 └ <Dispatcher '0x2b5fbd6c110'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x2b5fbd6c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B5FBD5C650>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767169751343309', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000002B5FBCB71A0>
                     └ <Router '0x2b5fc212090'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2b5fbd6c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B5FBD5C650>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767169751343309', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002B5FC45E7A0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002B5FBCB6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002B5FC417CD0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002B5FBCB7240>
                 └ <Router '0x2b5fc212090'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x2b5fbd6c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B5FBD5C650>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767169751343309', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x000002B5FBCB6660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002B5FC417CD0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2b5fbd6c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B5FBD5C650>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767169751343309', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x000002B5FC45E840>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function combinations_menu at 0x000002B5FC3FF1A0>, CallbackQuery(id='1987767169751343309', from_user=User(...

> File "D:\Work Projects\Megafon_bot\handlers\notifications\not_menu.py", line 16, in combinations_menu
    cur_days, cur_time = await db_get_notification_settings(uid)
                               │                            └ 462813109
                               └ <function db_get_notification_settings at 0x000002B5FBE94400>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 250, in db_get_notification_settings
    cur.execute("SELECT notifications_days, notification_time FROM profile WHERE user_id = ?", (user_id,))
    │   │                                                                                       └ 462813109
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x000002B5FC7249C0>

sqlite3.OperationalError: no such column: notifications_days
2023-10-14 00:26:59.133 | ERROR    | handlers.notifications.not_menu:combinations_menu:16 - An error has been caught in function 'combinations_menu', process 'MainProcess' (7180), thread 'MainThread' (5720):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000015087D28CC0>
    │       └ <function run at 0x0000015089C39620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001508F1066C0>
           │      └ <function Runner.run at 0x0000015089CB1580>
           └ <asyncio.runners.Runner object at 0x000001508EA39C50>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000015089CAB060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001508EA39C50>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000015089D7AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000015089CB0E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000015089BF65C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1508eacd310'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001508EBD6990>,)}
                     │    │           │    └ Update(update_id=821892990, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001508EBD6990>
                     │    └ <function Dispatcher.feed_update at 0x000001508EA27BA0>
                     └ <Dispatcher '0x1508eacd310'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001508EA26520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001508EF72B50>
                     └ <Dispatcher '0x1508eacd310'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1508eacd310'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001508EBD6990>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892990, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001508F198AD0>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1508eacd310'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001508EBD6990>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892990, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001508F198B50>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1508eacd310'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001508EBD6990>,), 'bot': <aiogra...
                 │       └ Update(update_id=821892990, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000001508F1CE200>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1508eacd310'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001508EBD6990>,), 'bot': <aiogra...
                 │             └ Update(update_id=821892990, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000001508F1CDC60>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1508eacd310'>>, Update(update_id=821892990, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1508eacd310'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001508EBD6990>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767170588887841', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000001508EA271A0>
                 └ <Dispatcher '0x1508eacd310'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1508eacd310'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001508EBD6990>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767170588887841', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001508F1CE520>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001508EA26520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001508F192490>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001508EA27240>
                 └ <Dispatcher '0x1508eacd310'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1508eacd310'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001508EBD6990>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767170588887841', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000001508EA271A0>
                     └ <Router '0x1508eadc7d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1508eacd310'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001508EBD6990>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767170588887841', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001508F1CE840>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001508EA26520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001508F186390>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001508EA27240>
                 └ <Router '0x1508eadc7d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1508eacd310'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001508EBD6990>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767170588887841', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x000001508EA26660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001508F186390>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1508eacd310'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001508EBD6990>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767170588887841', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x000001508F1CF060>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function combinations_menu at 0x000001508F16F240>, CallbackQuery(id='1987767170588887841', from_user=User(...

> File "D:\Work Projects\Megafon_bot\handlers\notifications\not_menu.py", line 16, in combinations_menu
    cur_days, cur_time = await db_get_notification_settings(uid)
                               │                            └ 462813109
                               └ <function db_get_notification_settings at 0x000001508EC04400>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 250, in db_get_notification_settings
    cur.execute("SELECT notifications_days, notification_time FROM profile WHERE user_id = ?", (user_id,))
    │   │                                                                                       └ 462813109
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x000001508F4907C0>

sqlite3.OperationalError: no such column: notifications_days
2023-10-14 01:10:00.012 | ERROR    | utils.reg_send2:regular_send:11 - An error has been caught in function 'regular_send', process 'MainProcess' (16248), thread 'MainThread' (7744):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000023432348CC0>
    │       └ <function run at 0x0000023434259620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000234397265E0>
           │      └ <function Runner.run at 0x00000234342D1580>
           └ <asyncio.runners.Runner object at 0x0000023439537990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000234342CB060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000023439537990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002343439AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000234342D0E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000234342165C0>
    └ <Handle <TaskStepMethWrapper object at 0x00000234397C5F60>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000234397C5F60>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000234397C5F60>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000234397C5F60>()>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=462813109 name=regular_send)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=462813109 name=regular_send)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=462813109 name=regular_send)>

> File "D:\Work Projects\Megafon_bot\utils\reg_send2.py", line 11, in regular_send
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x000002343921F560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 01:11:00.011 | ERROR    | utils.reg_send2:regular_send:11 - An error has been caught in function 'regular_send', process 'MainProcess' (16248), thread 'MainThread' (7744):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000023432348CC0>
    │       └ <function run at 0x0000023434259620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000234397265E0>
           │      └ <function Runner.run at 0x00000234342D1580>
           └ <asyncio.runners.Runner object at 0x0000023439537990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000234342CB060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000023439537990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002343439AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000234342D0E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000234342165C0>
    └ <Handle <TaskStepMethWrapper object at 0x00000234397C6500>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000234397C6500>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000234397C6500>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000234397C6500>()>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\apscheduler\executors\base_py3.py", line 30, in run_coroutine_job
    retval = await job.func(*job.args, **job.kwargs)
                   │   │     │   │       │   └ <member 'kwargs' of 'Job' objects>
                   │   │     │   │       └ <Job (id=462813109 name=regular_send)>
                   │   │     │   └ <member 'args' of 'Job' objects>
                   │   │     └ <Job (id=462813109 name=regular_send)>
                   │   └ <member 'func' of 'Job' objects>
                   └ <Job (id=462813109 name=regular_send)>

> File "D:\Work Projects\Megafon_bot\utils\reg_send2.py", line 11, in regular_send
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x000002343921F560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 01:14:37.910 | ERROR    | handlers.combinations.get_combinations:get_combinations:18 - An error has been caught in function 'get_combinations', process 'MainProcess' (15920), thread 'MainThread' (4044):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000002E86E048CC0>
    │       └ <function run at 0x000002E86FF49620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000002E8753F65E0>
           │      └ <function Runner.run at 0x000002E86FFC1580>
           └ <asyncio.runners.Runner object at 0x000002E874D2A0D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002E86FFBB060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000002E874D2A0D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002E87007AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002E86FFC0E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002E86FF065C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x2e874dbd3d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002E874DBC310>,)}
                     │    │           │    └ Update(update_id=821893027, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000002E874DBC310>
                     │    └ <function Dispatcher.feed_update at 0x000002E874D17BA0>
                     └ <Dispatcher '0x2e874dbd3d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002E874D16520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002E874EFAE50>
                     └ <Dispatcher '0x2e874dbd3d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2e874dbd3d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002E874DBC310>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893027, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000002E874DCCD10>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2e874dbd3d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002E874DBC310>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893027, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000002E87548C850>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2e874dbd3d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002E874DBC310>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893027, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000002E875488220>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2e874dbd3d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002E874DBC310>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893027, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000002E87548B9C0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x2e874dbd3d0'>>, Update(update_id=821893027, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x2e874dbd3d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002E874DBC310>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767167724325284', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000002E874D171A0>
                 └ <Dispatcher '0x2e874dbd3d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2e874dbd3d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002E874DBC310>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767167724325284', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002E8754F8E00>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002E874D16520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002E875486210>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002E874D17240>
                 └ <Dispatcher '0x2e874dbd3d0'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x2e874dbd3d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002E874DBC310>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767167724325284', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000002E874D171A0>
                     └ <Router '0x2e87546cc90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2e874dbd3d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002E874DBC310>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767167724325284', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002E87548BBA0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002E874D16520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002E87546E210>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002E874D17240>
                 └ <Router '0x2e87546cc90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x2e874dbd3d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002E874DBC310>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767167724325284', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x000002E874D16660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002E87546E210>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2e874dbd3d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002E874DBC310>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767167724325284', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x000002E8754F8CC0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x000002E875461DA0>, CallbackQuery(id='1987767167724325284', from_user=User(i...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\get_combinations.py", line 18, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x000002E874EEF560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 01:16:13.784 | ERROR    | handlers.combinations.get_combinations:get_combinations:19 - An error has been caught in function 'get_combinations', process 'MainProcess' (14524), thread 'MainThread' (13748):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001F9F0F38CC0>
    │       └ <function run at 0x000001F9F2EC9620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001F9F83966C0>
           │      └ <function Runner.run at 0x000001F9F2F41580>
           └ <asyncio.runners.Runner object at 0x000001F9F81EF990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F9F2F3B060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F9F81EF990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001F9F300AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F9F2F40E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F9F2E865C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,)}
                     │    │           │    └ Update(update_id=821893028, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001F9F60060D0>
                     │    └ <function Dispatcher.feed_update at 0x000001F9F7CB7BA0>
                     └ <Dispatcher '0x1f9f81f3710'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001F9F7CB6520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F9F8429690>
                     └ <Dispatcher '0x1f9f81f3710'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893028, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001F9F81F3910>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893028, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001F9F8429D50>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893028, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000001F9F8424EA0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893028, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000001F9F8498400>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1f9f81f3710'>>, Update(update_id=821893028, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767170849549522', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000001F9F7CB71A0>
                 └ <Dispatcher '0x1f9f81f3710'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767170849549522', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001F9F84982C0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001F9F7CB6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F9F84236D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001F9F7CB7240>
                 └ <Dispatcher '0x1f9f81f3710'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767170849549522', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000001F9F7CB71A0>
                     └ <Router '0x1f9f83f9250'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767170849549522', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001F9F7A5FE20>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001F9F7CB6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F9F840B690>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001F9F7CB7240>
                 └ <Router '0x1f9f83f9250'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767170849549522', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x000001F9F7CB6660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F9F840B690>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767170849549522', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x000001F9F8498860>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x000001F9F83FDDA0>, CallbackQuery(id='1987767170849549522', from_user=User(i...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\get_combinations.py", line 19, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x000001F9F7E93560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 01:16:28.482 | ERROR    | handlers.combinations.del_combination:add_combination:22 - An error has been caught in function 'add_combination', process 'MainProcess' (14524), thread 'MainThread' (13748):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001F9F0F38CC0>
    │       └ <function run at 0x000001F9F2EC9620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001F9F83966C0>
           │      └ <function Runner.run at 0x000001F9F2F41580>
           └ <asyncio.runners.Runner object at 0x000001F9F81EF990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F9F2F3B060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F9F81EF990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001F9F300AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F9F2F40E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F9F2E865C0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,)}
                     │    │           │    └ Update(update_id=821893029, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001F9F60060D0>
                     │    └ <function Dispatcher.feed_update at 0x000001F9F7CB7BA0>
                     └ <Dispatcher '0x1f9f81f3710'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001F9F7CB6520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F9F8429690>
                     └ <Dispatcher '0x1f9f81f3710'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893029, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001F9F81F3910>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893029, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001F9F8429D50>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893029, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000001F9F8426160>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893029, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000001F9F8498540>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1f9f81f3710'>>, Update(update_id=821893029, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767167541681093', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000001F9F7CB71A0>
                 └ <Dispatcher '0x1f9f81f3710'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767167541681093', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001F9F8498400>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001F9F7CB6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F9F84236D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001F9F7CB7240>
                 └ <Dispatcher '0x1f9f81f3710'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767167541681093', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000001F9F7CB71A0>
                     └ <Router '0x1f9f8409e90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767167541681093', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001F9F8424EA0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001F9F7CB6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F9F8413050>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001F9F7CB7240>
                 └ <Router '0x1f9f8409e90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767167541681093', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x000001F9F7CB6660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F9F8413050>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1f9f81f3710'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F9F60060D0>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767167541681093', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x000001F9F84982C0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function add_combination at 0x000001F9F83FE660>, CallbackQuery(id='1987767167541681093', from_user=User(id...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\del_combination.py", line 22, in add_combination
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x000001F9F7E93560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 01:17:33.452 | ERROR    | handlers.combinations.del_combination:add_combination:23 - An error has been caught in function 'add_combination', process 'MainProcess' (11132), thread 'MainThread' (4000):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000002B90AC28CC0>
    │       └ <function run at 0x000002B90CBB9620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000002B912086960>
           │      └ <function Runner.run at 0x000002B90CC31580>
           └ <asyncio.runners.Runner object at 0x000002B911EE64D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002B90CC2B060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000002B911EE64D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002B90CCFAE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002B90CC30E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002B90CB765C0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x2b911a4c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B911B57010>,)}
                     │    │           │    └ Update(update_id=821893031, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000002B911B57010>
                     │    └ <function Dispatcher.feed_update at 0x000002B9119A7BA0>
                     └ <Dispatcher '0x2b911a4c110'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002B9119A6520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002B911EF2C50>
                     └ <Dispatcher '0x2b911a4c110'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2b911a4c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B911B57010>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893031, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000002B911F01D90>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2b911a4c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B911B57010>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893031, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000002B91211D750>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2b911a4c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B911B57010>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893031, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000002B91211B9C0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2b911a4c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B911B57010>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893031, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000002B9121885E0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x2b911a4c110'>>, Update(update_id=821893031, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x2b911a4c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B911B57010>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767168476648292', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000002B9119A71A0>
                 └ <Dispatcher '0x2b911a4c110'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2b911a4c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B911B57010>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767168476648292', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002B912188400>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002B9119A6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002B912117150>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002B9119A7240>
                 └ <Dispatcher '0x2b911a4c110'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x2b911a4c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B911B57010>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767168476648292', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000002B9119A71A0>
                     └ <Router '0x2b911fb0390'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2b911a4c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B911B57010>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767168476648292', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002B912118EA0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002B9119A6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002B912102E10>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002B9119A7240>
                 └ <Router '0x2b911fb0390'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x2b911a4c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B911B57010>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767168476648292', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x000002B9119A6660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002B912102E10>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2b911a4c110'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002B911B57010>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767168476648292', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x000002B912188EA0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function add_combination at 0x000002B9120EE660>, CallbackQuery(id='1987767168476648292', from_user=User(id...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\del_combination.py", line 23, in add_combination
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x000002B911B83560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 01:18:19.603 | ERROR    | handlers.combinations.del_combination:add_combination:20 - An error has been caught in function 'add_combination', process 'MainProcess' (17220), thread 'MainThread' (3068):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000020E70678CC0>
    │       └ <function run at 0x0000020E725D9620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000020E77AA6960>
           │      └ <function Runner.run at 0x0000020E72651580>
           └ <asyncio.runners.Runner object at 0x0000020E7265AC50>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000020E7264B060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000020E7265AC50>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000020E7271AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000020E72650E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000020E725965C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,)}
                     │    │           │    └ Update(update_id=821893032, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x0000020E77584AD0>
                     │    └ <function Dispatcher.feed_update at 0x0000020E773C7BA0>
                     └ <Dispatcher '0x20e7746a690'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000020E773C6520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000020E778FB450>
                     └ <Dispatcher '0x20e7746a690'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893032, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x0000020E77996890>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893032, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x0000020E778F9D90>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893032, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x0000020E77B38EA0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893032, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x0000020E77BA8400>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x20e7746a690'>>, Update(update_id=821893032, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767170458449321', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x0000020E773C71A0>
                 └ <Dispatcher '0x20e7746a690'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767170458449321', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000020E77BA82C0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000020E773C6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000020E77B37C50>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000020E773C7240>
                 └ <Dispatcher '0x20e7746a690'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767170458449321', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x0000020E773C71A0>
                     └ <Router '0x20e778fbe10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767170458449321', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000020E7716FE20>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000020E773C6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000020E77B236D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000020E773C7240>
                 └ <Router '0x20e778fbe10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767170458449321', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x0000020E773C6660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000020E77B236D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767170458449321', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x0000020E77BA8720>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function add_combination at 0x0000020E77B0E660>, CallbackQuery(id='1987767170458449321', from_user=User(id...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\del_combination.py", line 20, in add_combination
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x0000020E775A3560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 01:18:46.673 | ERROR    | handlers.combinations.del_combination:add_combination:20 - An error has been caught in function 'add_combination', process 'MainProcess' (17220), thread 'MainThread' (3068):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000020E70678CC0>
    │       └ <function run at 0x0000020E725D9620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000020E77AA6960>
           │      └ <function Runner.run at 0x0000020E72651580>
           └ <asyncio.runners.Runner object at 0x0000020E7265AC50>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000020E7264B060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000020E7265AC50>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000020E7271AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000020E72650E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000020E725965C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,)}
                     │    │           │    └ Update(update_id=821893033, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x0000020E77584AD0>
                     │    └ <function Dispatcher.feed_update at 0x0000020E773C7BA0>
                     └ <Dispatcher '0x20e7746a690'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000020E773C6520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000020E778FB450>
                     └ <Dispatcher '0x20e7746a690'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893033, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x0000020E77996890>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893033, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x0000020E778F9D90>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893033, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x0000020E77B38EA0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893033, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x0000020E77BA9C60>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x20e7746a690'>>, Update(update_id=821893033, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767169300454483', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x0000020E773C71A0>
                 └ <Dispatcher '0x20e7746a690'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767169300454483', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000020E77BA8400>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000020E773C6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000020E77B37C50>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000020E773C7240>
                 └ <Dispatcher '0x20e7746a690'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767169300454483', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x0000020E773C71A0>
                     └ <Router '0x20e778fbe10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767169300454483', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000020E77BA82C0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000020E773C6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000020E77B236D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000020E773C7240>
                 └ <Router '0x20e778fbe10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767169300454483', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x0000020E773C6660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000020E77B236D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x20e7746a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020E77584AD0>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767169300454483', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x0000020E77BA9F80>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function add_combination at 0x0000020E77B0E660>, CallbackQuery(id='1987767169300454483', from_user=User(id...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\del_combination.py", line 20, in add_combination
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x0000020E775A3560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 01:19:57.198 | ERROR    | handlers.combinations.del_combination:add_combination:20 - An error has been caught in function 'add_combination', process 'MainProcess' (5756), thread 'MainThread' (10932):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000024ECF148CC0>
    │       └ <function run at 0x0000024ED10A9620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000024ED6576960>
           │      └ <function Runner.run at 0x0000024ED1121580>
           └ <asyncio.runners.Runner object at 0x0000024ED112AC50>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000024ED111B060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000024ED112AC50>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000024ED11EAE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024ED1120E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024ED10665C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x24ed5f3a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000024ED6054AD0>,)}
                     │    │           │    └ Update(update_id=821893034, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x0000024ED6054AD0>
                     │    └ <function Dispatcher.feed_update at 0x0000024ED5E97BA0>
                     └ <Dispatcher '0x24ed5f3a690'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000024ED5E96520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000024ED63CB450>
                     └ <Dispatcher '0x24ed5f3a690'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x24ed5f3a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000024ED6054AD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893034, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x0000024ED6466890>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x24ed5f3a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000024ED6054AD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893034, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x0000024ED63C9D90>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x24ed5f3a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000024ED6054AD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893034, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x0000024ED6608EA0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x24ed5f3a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000024ED6054AD0>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893034, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x0000024ED6678400>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x24ed5f3a690'>>, Update(update_id=821893034, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x24ed5f3a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000024ED6054AD0>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767168378525741', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x0000024ED5E971A0>
                 └ <Dispatcher '0x24ed5f3a690'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x24ed5f3a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000024ED6054AD0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767168378525741', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000024ED66782C0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000024ED5E96520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000024ED6607D90>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000024ED5E97240>
                 └ <Dispatcher '0x24ed5f3a690'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x24ed5f3a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000024ED6054AD0>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767168378525741', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x0000024ED5E971A0>
                     └ <Router '0x24ed63cbe10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x24ed5f3a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000024ED6054AD0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767168378525741', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000024ED660A200>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000024ED5E96520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000024ED65F37D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000024ED5E97240>
                 └ <Router '0x24ed63cbe10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x24ed5f3a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000024ED6054AD0>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767168378525741', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x0000024ED5E96660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000024ED65F37D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x24ed5f3a690'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000024ED6054AD0>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767168378525741', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x0000024ED66784A0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function add_combination at 0x0000024ED65DE660>, CallbackQuery(id='1987767168378525741', from_user=User(id...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\del_combination.py", line 20, in add_combination
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x0000024ED6073560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 01:20:53.907 | ERROR    | handlers.combinations.del_combination:add_combination:20 - An error has been caught in function 'add_combination', process 'MainProcess' (13252), thread 'MainThread' (14672):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000002C347508CC0>
    │       └ <function run at 0x000002C349489620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000002C34E956960>
           │      └ <function Runner.run at 0x000002C349501580>
           └ <asyncio.runners.Runner object at 0x000002C34E4578D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002C3494FB060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000002C34E4578D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002C3495CEE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002C349500E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002C3494465C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x2c34e32cc50'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002C34E33C310>,)}
                     │    │           │    └ Update(update_id=821893035, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000002C34E33C310>
                     │    └ <function Dispatcher.feed_update at 0x000002C34E277BA0>
                     └ <Dispatcher '0x2c34e32cc50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002C34E276520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002C34E46AB90>
                     └ <Dispatcher '0x2c34e32cc50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2c34e32cc50'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002C34E33C310>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893035, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000002C34E7AA790>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2c34e32cc50'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002C34E33C310>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893035, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000002C34E9ED890>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2c34e32cc50'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002C34E33C310>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893035, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000002C34E9E8EA0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2c34e32cc50'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002C34E33C310>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893035, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000002C34EA58400>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x2c34e32cc50'>>, Update(update_id=821893035, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x2c34e32cc50'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002C34E33C310>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767169161211942', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000002C34E2771A0>
                 └ <Dispatcher '0x2c34e32cc50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2c34e32cc50'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002C34E33C310>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767169161211942', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002C34EA582C0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002C34E276520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002C34E85F8D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002C34E277240>
                 └ <Dispatcher '0x2c34e32cc50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x2c34e32cc50'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002C34E33C310>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767169161211942', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000002C34E2771A0>
                     └ <Router '0x2c34e7cec90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2c34e32cc50'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002C34E33C310>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767169161211942', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002C34E01FE20>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002C34E276520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002C34E9D2DD0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002C34E277240>
                 └ <Router '0x2c34e7cec90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x2c34e32cc50'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002C34E33C310>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767169161211942', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x000002C34E276660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002C34E9D2DD0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2c34e32cc50'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002C34E33C310>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767169161211942', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x000002C34EA58680>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function add_combination at 0x000002C34E9BE660>, CallbackQuery(id='1987767169161211942', from_user=User(id...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\del_combination.py", line 20, in add_combination
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x000002C34E453560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 01:21:17.638 | ERROR    | handlers.combinations.del_combination:add_combination:20 - An error has been caught in function 'add_combination', process 'MainProcess' (3180), thread 'MainThread' (10732):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000268AA558CC0>
    │       └ <function run at 0x00000268AC4C9620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000268B1996960>
           │      └ <function Runner.run at 0x00000268AC541580>
           └ <asyncio.runners.Runner object at 0x00000268B17A7990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000268AC53B060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000268B17A7990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x00000268AC60AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000268AC540E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000268AC4865C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,)}
                     │    │           │    └ Update(update_id=821893038, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x00000268AF37E390>
                     │    └ <function Dispatcher.feed_update at 0x00000268B12A7BA0>
                     └ <Dispatcher '0x268b1812e90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000268B12A6520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000268B1802BD0>
                     └ <Dispatcher '0x268b1812e90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893038, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x00000268B1A2DBD0>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893038, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x00000268B1A2DC50>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893038, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x00000268B1A2A160>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893038, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x00000268B1A2B9C0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x268b1812e90'>>, Update(update_id=821893038, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767167525569225', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x00000268B12A71A0>
                 └ <Dispatcher '0x268b1812e90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767167525569225', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000268B1A984A0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000268B12A6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000268B18036D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x00000268B12A7240>
                 └ <Dispatcher '0x268b1812e90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767167525569225', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x00000268B12A71A0>
                     └ <Router '0x268b18c0b10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767167525569225', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000268B105FE20>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000268B12A6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000268B1A130D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x00000268B12A7240>
                 └ <Router '0x268b18c0b10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767167525569225', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x00000268B12A6660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000268B1A130D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767167525569225', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x00000268B1A982C0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function add_combination at 0x00000268B19FE660>, CallbackQuery(id='1987767167525569225', from_user=User(id...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\del_combination.py", line 20, in add_combination
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x00000268B148F560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 01:21:22.410 | ERROR    | handlers.combinations.get_combinations:get_combinations:19 - An error has been caught in function 'get_combinations', process 'MainProcess' (3180), thread 'MainThread' (10732):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000268AA558CC0>
    │       └ <function run at 0x00000268AC4C9620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000268B1996960>
           │      └ <function Runner.run at 0x00000268AC541580>
           └ <asyncio.runners.Runner object at 0x00000268B17A7990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000268AC53B060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000268B17A7990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x00000268AC60AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000268AC540E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000268AC4865C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,)}
                     │    │           │    └ Update(update_id=821893040, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x00000268AF37E390>
                     │    └ <function Dispatcher.feed_update at 0x00000268B12A7BA0>
                     └ <Dispatcher '0x268b1812e90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000268B12A6520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000268B1802BD0>
                     └ <Dispatcher '0x268b1812e90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893040, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x00000268B1A2DBD0>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893040, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x00000268B1A2DC50>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893040, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x00000268B1A9A160>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893040, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x00000268B1A98EA0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x268b1812e90'>>, Update(update_id=821893040, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767171380971532', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x00000268B12A71A0>
                 └ <Dispatcher '0x268b1812e90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767171380971532', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000268B1A982C0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000268B12A6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000268B18036D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x00000268B12A7240>
                 └ <Dispatcher '0x268b1812e90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767171380971532', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x00000268B12A71A0>
                     └ <Router '0x268b1a09e90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767171380971532', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000268B1A9A2A0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000268B12A6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000268B1A0B410>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x00000268B12A7240>
                 └ <Router '0x268b1a09e90'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767171380971532', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x00000268B12A6660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000268B1A0B410>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x268b1812e90'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000268AF37E390>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767171380971532', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x00000268B1A9A3E0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x00000268B19FDDA0>, CallbackQuery(id='1987767171380971532', from_user=User(i...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\get_combinations.py", line 19, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x00000268B148F560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 01:26:26.779 | ERROR    | handlers.combinations.get_combinations:get_combinations:19 - An error has been caught in function 'get_combinations', process 'MainProcess' (8484), thread 'MainThread' (12496):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000180A7458CC0>
    │       └ <function run at 0x00000180A93E9620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000180AE8B65E0>
           │      └ <function Runner.run at 0x00000180A9461580>
           └ <asyncio.runners.Runner object at 0x00000180AE6C7990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000180A945B060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000180AE6C7990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x00000180A952AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000180A9460E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000180A93A65C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x180ae7d4e10'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000180AE27C310>,)}
                     │    │           │    └ Update(update_id=821893072, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x00000180AE27C310>
                     │    └ <function Dispatcher.feed_update at 0x00000180AE1D7BA0>
                     └ <Dispatcher '0x180ae7d4e10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000180AE1D6520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000180AE70F650>
                     └ <Dispatcher '0x180ae7d4e10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x180ae7d4e10'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000180AE27C310>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893072, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x00000180AE901D90>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x180ae7d4e10'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000180AE27C310>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893072, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x00000180AE94CB90>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x180ae7d4e10'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000180AE27C310>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893072, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x00000180AE94BBA0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x180ae7d4e10'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000180AE27C310>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893072, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x00000180AE9B8F40>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x180ae7d4e10'>>, Update(update_id=821893072, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x180ae7d4e10'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000180AE27C310>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='272661955666285181', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x00000180AE1D71A0>
                 └ <Dispatcher '0x180ae7d4e10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x180ae7d4e10'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000180AE27C310>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661955666285181', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000180AE9BB420>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000180AE1D6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000180AE946550>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x00000180AE1D7240>
                 └ <Dispatcher '0x180ae7d4e10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x180ae7d4e10'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000180AE27C310>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='272661955666285181', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x00000180AE1D71A0>
                     └ <Router '0x180ae928e50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x180ae7d4e10'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000180AE27C310>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661955666285181', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000180AE94B9C0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000180AE1D6520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000180AE92A3D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x00000180AE1D7240>
                 └ <Router '0x180ae928e50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x180ae7d4e10'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000180AE27C310>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='272661955666285181', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │        └ <function TelegramEventObserver.trigger at 0x00000180AE1D6660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000180AE92A3D0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x180ae7d4e10'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000180AE27C310>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='272661955666285181', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 └ <function CallableMixin.call at 0x00000180AE9BB380>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x00000180AE91DDA0>, CallbackQuery(id='272661955666285181', from_user=User(id...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\get_combinations.py", line 19, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 6505935002
                         └ <function db_get_user_combinations at 0x00000180AE3AF560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 01:41:16.976 | ERROR    | handlers.combinations.get_combinations:get_combinations:19 - An error has been caught in function 'get_combinations', process 'MainProcess' (6264), thread 'MainThread' (8356):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000027582B58CC0>
    │       └ <function run at 0x0000027584AA9620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000027589F765E0>
           │      └ <function Runner.run at 0x0000027584B21580>
           └ <asyncio.runners.Runner object at 0x0000027589ABBA50>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000027584B1B060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000027589ABBA50>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000027584BEAE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000027584B20E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000027584A665C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x2758994cd10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002758993F610>,)}
                     │    │           │    └ Update(update_id=821893145, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000002758993F610>
                     │    └ <function Dispatcher.feed_update at 0x0000027589897BA0>
                     └ <Dispatcher '0x2758994cd10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000027589896520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000027589DE31D0>
                     └ <Dispatcher '0x2758994cd10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2758994cd10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002758993F610>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893145, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000002758A00C550>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2758994cd10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002758993F610>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893145, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000002758A00C5D0>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2758994cd10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002758993F610>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893145, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000002758A004180>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2758994cd10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002758993F610>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893145, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000002758A2245E0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x2758994cd10'>>, Update(update_id=821893145, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x2758994cd10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002758993F610>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='5670866776989485286', from_user=User(id=1320351561, is_bot=False, first_name='A', last_name=None, username=...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x00000275898971A0>
                 └ <Dispatcher '0x2758994cd10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2758994cd10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002758993F610>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='5670866776989485286', from_user=User(id=1320351561, is_bot=False, first_name='A', last_name=None, username=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002758A224FE0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000027589896520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002758A001F90>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000027589897240>
                 └ <Dispatcher '0x2758994cd10'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x2758994cd10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002758993F610>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='5670866776989485286', from_user=User(id=1320351561, is_bot=False, first_name='A', last_name=None, username=...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x00000275898971A0>
                     └ <Router '0x27589fe8910'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2758994cd10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002758993F610>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='5670866776989485286', from_user=User(id=1320351561, is_bot=False, first_name='A', last_name=None, username=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002758A224AE0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000027589896520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000027589FE9E90>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000027589897240>
                 └ <Router '0x27589fe8910'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x2758994cd10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002758993F610>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='5670866776989485286', from_user=User(id=1320351561, is_bot=False, first_name='A', last_name=None, username=...
                     │        └ <function TelegramEventObserver.trigger at 0x0000027589896660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000027589FE9E90>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2758994cd10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002758993F610>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='5670866776989485286', from_user=User(id=1320351561, is_bot=False, first_name='A', last_name=None, username=...
                 └ <function CallableMixin.call at 0x000002758A224C20>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x0000027589FDDDA0>, CallbackQuery(id='5670866776989485286', from_user=User(i...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\get_combinations.py", line 19, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 1320351561
                         └ <function db_get_user_combinations at 0x0000027589A73560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 154, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-14 19:39:56.217 | ERROR    | handlers.combinations.get_combinations:get_combinations:19 - An error has been caught in function 'get_combinations', process 'MainProcess' (4824), thread 'MainThread' (16152):
Traceback (most recent call last):

  File "D:\Work Projects\Megafon_bot\bot.py", line 85, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000206FEFE8CC0>
    │       └ <function run at 0x00000206FFADD620>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000002068634A880>
           │      └ <function Runner.run at 0x00000206FFB51580>
           └ <asyncio.runners.Runner object at 0x0000020685E574D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Megafon_bot\bot.py:81> wait_for=<_GatheringFuture pendin...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000206FFB47060>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000020685E574D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x00000206FFC0AE80>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000206FFB50E00>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000206FFA965C0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x20685d32610'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020685E27A90>,)}
                     │    │           │    └ Update(update_id=821893375, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x0000020685E27A90>
                     │    └ <function Dispatcher.feed_update at 0x0000020685C77BA0>
                     └ <Dispatcher '0x20685d32610'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000020685C76520>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000206861E20D0>
                     └ <Dispatcher '0x20685d32610'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x20685d32610'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020685E27A90>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893375, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000002068619A790>, functools...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x20685d32610'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020685E27A90>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893375, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x00000206863F5A90>, <function TelegramEventObserver...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x20685d32610'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020685E27A90>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893375, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x0000020686413740>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x20685d32610'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020685E27A90>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893375, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x0000020686413EC0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x20685d32610'>>, Update(update_id=821893375, messa...
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x20685d32610'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020685E27A90>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='272661955402480576', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x0000020685C771A0>
                 └ <Dispatcher '0x20685d32610'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x20685d32610'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020685E27A90>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661955402480576', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000206864ACC20>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000020685C76520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000206863EB510>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000020685C77240>
                 └ <Dispatcher '0x20685d32610'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x20685d32610'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020685E27A90>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='272661955402480576', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x0000020685C771A0>
                     └ <Router '0x206863cda50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x20685d32610'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020685E27A90>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661955402480576', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000206864ACFE0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000020685C76520>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000206863CEFD0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000020685C77240>
                 └ <Router '0x206863cda50'>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x20685d32610'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020685E27A90>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='272661955402480576', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │        └ <function TelegramEventObserver.trigger at 0x0000020685C76660>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000206863CEFD0>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x20685d32610'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000020685E27A90>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='272661955402480576', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 └ <function CallableMixin.call at 0x00000206864ACA40>
  File "D:\Work Projects\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x00000206863C27A0>, CallbackQuery(id='272661955402480576', from_user=User(id...

> File "D:\Work Projects\Megafon_bot\handlers\combinations\get_combinations.py", line 19, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 6505935002
                         └ <function db_get_user_combinations at 0x0000020685E53560>

  File "D:\Work Projects\Megafon_bot\database\db_action.py", line 149, in db_get_user_combinations
    combinations = combinations_str.split(',')  # Разделяем строку на отдельные комбинации
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-15 18:35:40.370 | ERROR    | __main__:<module>:83 - Telegram server says - Bad Request: chat not found
2023-10-15 18:35:49.766 | ERROR    | __main__:<module>:83 - Telegram server says - Bad Request: chat not found
2023-10-15 18:36:28.699 | ERROR    | __main__:<module>:83 - Telegram server says - Bad Request: chat not found
2023-10-15 18:37:20.141 | ERROR    | __main__:<module>:83 - Telegram server says - Bad Request: chat not found
2023-10-15 18:38:08.283 | ERROR    | __main__:<module>:83 - Telegram server says - Bad Request: chat not found
2023-10-15 18:39:05.307 | ERROR    | __main__:main_func:28 - An error has been caught in function 'main_func', process 'MainProcess' (11156), thread 'MainThread' (8008):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 79, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000022FE2496A20>
    │       └ <function run at 0x0000022FDCF69760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000022FE2436340>
           │      └ <function Runner.run at 0x0000022FDCFD56C0>
           └ <asyncio.runners.Runner object at 0x0000022FE1F89210>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot\bot.py:74> wait_for=<_GatheringFutu...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000022FDCFCF1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000022FE1F89210>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000022FDD09AFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022FDCFD4F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022FDCF16700>
    └ <Handle <TaskStepMethWrapper object at 0x0000022FE24B06D0>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000022FE24B06D0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000022FE24B06D0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000022FE24B06D0>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 28, in main_func
    users = await db_get_users()
                  └ <function db_get_users at 0x0000022FE1F400E0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot\database\db_action.py", line 88, in db_get_users
    cur.execute("SELECT user_id FROM profile")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000022FE248A8C0>

sqlite3.OperationalError: no such table: profile
2023-10-15 18:39:05.340 | ERROR    | __main__:main_func:29 - An error has been caught in function 'main_func', process 'MainProcess' (11156), thread 'MainThread' (8008):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 79, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000022FE2496A20>
    │       └ <function run at 0x0000022FDCF69760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000022FE2436340>
           │      └ <function Runner.run at 0x0000022FDCFD56C0>
           └ <asyncio.runners.Runner object at 0x0000022FE1F89210>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot\bot.py:74> wait_for=<_GatheringFutu...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000022FDCFCF1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000022FE1F89210>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000022FDD09AFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022FDCFD4F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022FDCF16700>
    └ <Handle <TaskStepMethWrapper object at 0x0000022FE24B06D0>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000022FE24B06D0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000022FE24B06D0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000022FE24B06D0>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 29, in main_func
    await db_remove_notifications()
          └ <function db_remove_notifications at 0x0000022FE1F422A0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot\database\db_action.py", line 295, in db_remove_notifications
    cur.execute("UPDATE profile SET notifications_days = NULL, notification_time = NULL")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000022FE253C1C0>

sqlite3.OperationalError: no such table: profile
2023-10-15 18:39:05.350 | ERROR    | __main__:<module>:83 - 'NoneType' object is not iterable
2023-10-15 18:39:31.915 | ERROR    | __main__:main_func:28 - An error has been caught in function 'main_func', process 'MainProcess' (12520), thread 'MainThread' (3240):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 79, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001C970F86A20>
    │       └ <function run at 0x000001C96BA89760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001C970F26340>
           │      └ <function Runner.run at 0x000001C96BAF56C0>
           └ <asyncio.runners.Runner object at 0x000001C96BAFEC10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot\bot.py:74> wait_for=<_GatheringFutu...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001C96BAEF1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001C96BAFEC10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001C96BBAAFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C96BAF4F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C96BA36700>
    └ <Handle <TaskStepMethWrapper object at 0x000001C970F98760>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C970F98760>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C970F98760>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C970F98760>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 28, in main_func
    users = await db_get_users()
                  └ <function db_get_users at 0x000001C970A300E0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot\database\db_action.py", line 88, in db_get_users
    cur.execute("SELECT user_id FROM profile")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x000001C970F7A8C0>

sqlite3.OperationalError: no such table: profile
2023-10-15 18:39:31.925 | ERROR    | __main__:main_func:29 - An error has been caught in function 'main_func', process 'MainProcess' (12520), thread 'MainThread' (3240):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 79, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001C970F86A20>
    │       └ <function run at 0x000001C96BA89760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001C970F26340>
           │      └ <function Runner.run at 0x000001C96BAF56C0>
           └ <asyncio.runners.Runner object at 0x000001C96BAFEC10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot\bot.py:74> wait_for=<_GatheringFutu...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001C96BAEF1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001C96BAFEC10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001C96BBAAFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001C96BAF4F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001C96BA36700>
    └ <Handle <TaskStepMethWrapper object at 0x000001C970F98760>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001C970F98760>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001C970F98760>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001C970F98760>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 29, in main_func
    await db_remove_notifications()
          └ <function db_remove_notifications at 0x000001C970A322A0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot\database\db_action.py", line 295, in db_remove_notifications
    cur.execute("UPDATE profile SET notifications_days = NULL, notification_time = NULL")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x000001C97102C1C0>

sqlite3.OperationalError: no such table: profile
2023-10-15 18:39:31.934 | ERROR    | __main__:<module>:83 - 'NoneType' object is not iterable
2023-10-15 18:40:11.575 | ERROR    | __main__:main_func:28 - An error has been caught in function 'main_func', process 'MainProcess' (11996), thread 'MainThread' (17356):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 81, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000024C70AF6A20>
    │       └ <function run at 0x0000024C6B5C9760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000024C70A96340>
           │      └ <function Runner.run at 0x0000024C6B6356C0>
           └ <asyncio.runners.Runner object at 0x0000024C708F7950>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot\bot.py:76> wait_for=<_GatheringFutu...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000024C6B62F1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000024C708F7950>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000024C6B6FAFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024C6B634F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024C6B576700>
    └ <Handle <TaskStepMethWrapper object at 0x0000024C70B087F0>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000024C70B087F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000024C70B087F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000024C70B087F0>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 28, in main_func
    users = await db_get_users()
                  └ <function db_get_users at 0x0000024C705A00E0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot\database\db_action.py", line 88, in db_get_users
    cur.execute("SELECT user_id FROM profile")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000024C70AEE8C0>

sqlite3.OperationalError: no such table: profile
2023-10-15 18:40:11.586 | ERROR    | __main__:main_func:29 - An error has been caught in function 'main_func', process 'MainProcess' (11996), thread 'MainThread' (17356):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 81, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000024C70AF6A20>
    │       └ <function run at 0x0000024C6B5C9760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000024C70A96340>
           │      └ <function Runner.run at 0x0000024C6B6356C0>
           └ <asyncio.runners.Runner object at 0x0000024C708F7950>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot\bot.py:76> wait_for=<_GatheringFutu...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000024C6B62F1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000024C708F7950>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000024C6B6FAFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024C6B634F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024C6B576700>
    └ <Handle <TaskStepMethWrapper object at 0x0000024C70B087F0>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000024C70B087F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000024C70B087F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000024C70B087F0>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 29, in main_func
    await db_remove_notifications()
          └ <function db_remove_notifications at 0x0000024C705A22A0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot\database\db_action.py", line 295, in db_remove_notifications
    cur.execute("UPDATE profile SET notifications_days = NULL, notification_time = NULL")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000024C70B9C1C0>

sqlite3.OperationalError: no such table: profile
2023-10-15 18:40:11.592 | ERROR    | __main__:main_func:37 - 'NoneType' object is not iterable
2023-10-15 20:19:17.243 | ERROR    | handlers.combinations.get_combinations:get_combinations:22 - An error has been caught in function 'get_combinations', process 'MainProcess' (15316), thread 'MainThread' (2364):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 81, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000201BCD76A20>
    │       └ <function run at 0x00000201B7849760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000201BCD16340>
           │      └ <function Runner.run at 0x00000201B78B56C0>
           └ <asyncio.runners.Runner object at 0x00000201BC8694D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot\bot.py:76> wait_for=<_GatheringFutu...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000201B78AF1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000201BC8694D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x00000201B797AFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000201B78B4F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000201B77F6700>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x201bcb88750'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000201BC6E18D0>,)}
                     │    │           │    └ Update(update_id=821893602, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x00000201BC6E18D0>
                     │    └ <function Dispatcher.feed_update at 0x00000201BC635440>
                     └ <Dispatcher '0x201bcb88750'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000201BC617E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000201BC79F110>
                     └ <Dispatcher '0x201bcb88750'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x201bcb88750'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000201BC6E18D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893602, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x00000201BCDB57D0>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x201bcb88750'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000201BC6E18D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893602, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x00000201BCDB5850>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x201bcb88750'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000201BC6E18D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893602, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x00000201BCDA22A0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x201bcb88750'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000201BC6E18D0>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893602, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x00000201BA2A4540>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x201bcb88750'>>, Update(update_id=821893602, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x201bcb88750'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000201BC6E18D0>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1176564166682040241', from_user=User(id=273940192, is_bot=False, first_name='Mike', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x00000201BC634A40>
                 └ <Dispatcher '0x201bcb88750'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x201bcb88750'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000201BC6E18D0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1176564166682040241', from_user=User(id=273940192, is_bot=False, first_name='Mike', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000201BA2A51C0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000201BC617E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000201BCDAF190>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x00000201BC634AE0>
                 └ <Dispatcher '0x201bcb88750'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x201bcb88750'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000201BC6E18D0>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1176564166682040241', from_user=User(id=273940192, is_bot=False, first_name='Mike', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x00000201BC634A40>
                     └ <Router '0x201bcd9e190'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x201bcb88750'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000201BC6E18D0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1176564166682040241', from_user=User(id=273940192, is_bot=False, first_name='Mike', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x00000201BA2A4900>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x00000201BC617E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000201BCD9F710>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x00000201BC634AE0>
                 └ <Router '0x201bcd9e190'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x201bcb88750'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000201BC6E18D0>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1176564166682040241', from_user=User(id=273940192, is_bot=False, first_name='Mike', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x00000201BC617F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000201BCD9F710>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x201bcb88750'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000201BC6E18D0>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1176564166682040241', from_user=User(id=273940192, is_bot=False, first_name='Mike', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x00000201BA2A4FE0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x00000201BCDA1260>, CallbackQuery(id='1176564166682040241', from_user=User(i...

> File "D:\Work Projects\Mega_Bot\Megafon_bot\handlers\combinations\get_combinations.py", line 22, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 273940192
                         └ <function db_get_user_combinations at 0x00000201BC820C20>

  File "D:\Work Projects\Mega_Bot\Megafon_bot\database\db_action.py", line 162, in db_get_user_combinations
    combinations = combinations_str.split(',')
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-15 20:19:17.333 | ERROR    | handlers.combinations.get_combinations:get_combinations:30 - Combinations not found
2023-10-16 22:59:55.157 | ERROR    | handlers.combinations.get_combinations:get_combinations:22 - An error has been caught in function 'get_combinations', process 'MainProcess' (13016), thread 'MainThread' (16380):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 81, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001FA8D1C6D40>
    │       └ <function run at 0x000001FA87C99760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001FA8D179EE0>
           │      └ <function Runner.run at 0x000001FA87D056C0>
           └ <asyncio.runners.Runner object at 0x000001FA8CFA8890>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot\bot.py:76> wait_for=<_GatheringFutu...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001FA87CFF1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001FA8CFA8890>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001FA87DCAFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001FA87D04F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001FA87C46700>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,)}
                     │    │           │    └ Update(update_id=821893644, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001FA8CB33290>
                     │    └ <function Dispatcher.feed_update at 0x000001FA8CA85440>
                     └ <Dispatcher '0x1fa8cfecbd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FA8CA67E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FA8CFEC2D0>
                     └ <Dispatcher '0x1fa8cfecbd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893644, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001FA8D205650>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893644, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001FA8D2056D0>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893644, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000001FA8C826B60>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893644, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000001FA8D318400>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1fa8cfecbd0'>>, Update(update_id=821893644, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767168378398178', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000001FA8CA84A40>
                 └ <Dispatcher '0x1fa8cfecbd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767168378398178', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001FA8D318860>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FA8CA67E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FA8D1FAFD0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001FA8CA84AE0>
                 └ <Dispatcher '0x1fa8cfecbd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767168378398178', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000001FA8CA84A40>
                     └ <Router '0x1fa8d1f2050'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767168378398178', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001FA8D1EE520>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FA8CA67E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FA8D1F35D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001FA8CA84AE0>
                 └ <Router '0x1fa8d1f2050'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767168378398178', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x000001FA8CA67F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FA8D1F35D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767168378398178', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x000001FA8D319120>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x000001FA8D1ED580>, CallbackQuery(id='1987767168378398178', from_user=User(i...

> File "D:\Work Projects\Mega_Bot\Megafon_bot\handlers\combinations\get_combinations.py", line 22, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x000001FA8CC70EA0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot\database\db_action.py", line 162, in db_get_user_combinations
    combinations = combinations_str.split(',')
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-16 22:59:55.322 | ERROR    | handlers.combinations.get_combinations:get_combinations:30 - Combinations not found
2023-10-16 23:21:33.585 | ERROR    | handlers.get_numbers:get_numbers:26 - An error has been caught in function 'get_numbers', process 'MainProcess' (13016), thread 'MainThread' (16380):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot\bot.py", line 81, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001FA8D1C6D40>
    │       └ <function run at 0x000001FA87C99760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001FA8D179EE0>
           │      └ <function Runner.run at 0x000001FA87D056C0>
           └ <asyncio.runners.Runner object at 0x000001FA8CFA8890>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot\bot.py:76> wait_for=<_GatheringFutu...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001FA87CFF1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001FA8CFA8890>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001FA87DCAFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001FA87D04F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001FA87C46700>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,)}
                     │    │           │    └ Update(update_id=821893662, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001FA8CB33290>
                     │    └ <function Dispatcher.feed_update at 0x000001FA8CA85440>
                     └ <Dispatcher '0x1fa8cfecbd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FA8CA67E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FA8CFEC2D0>
                     └ <Dispatcher '0x1fa8cfecbd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893662, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001FA8D205650>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893662, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001FA8D2056D0>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893662, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000001FA8D2328E0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893662, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000001FA8D318360>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1fa8cfecbd0'>>, Update(update_id=821893662, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767168993337243', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000001FA8CA84A40>
                 └ <Dispatcher '0x1fa8cfecbd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767168993337243', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001FA8D318400>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FA8CA67E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FA8D1FAFD0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001FA8CA84AE0>
                 └ <Dispatcher '0x1fa8cfecbd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767168993337243', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000001FA8CA84A40>
                     └ <Router '0x1fa87dccd50'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767168993337243', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001FA8D3185E0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001FA8CA67E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FA8D1A0450>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001FA8CA84AE0>
                 └ <Router '0x1fa87dccd50'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767168993337243', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x000001FA8CA67F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001FA8D1A0450>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1fa8cfecbd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001FA8CB33290>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767168993337243', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x000001FA8D3191C0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_numbers at 0x000001FA8D195D00>, CallbackQuery(id='1987767168993337243', from_user=User(id=462...

> File "D:\Work Projects\Mega_Bot\Megafon_bot\handlers\get_numbers.py", line 26, in get_numbers
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x000001FA8CC70EA0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot\database\db_action.py", line 162, in db_get_user_combinations
    combinations = combinations_str.split(',')
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-16 23:21:33.606 | ERROR    | utils.check_numbers:main:111 - Маски не установлены
2023-10-17 00:33:35.940 | ERROR    | __main__:main_func:29 - An error has been caught in function 'main_func', process 'MainProcess' (13856), thread 'MainThread' (15912):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 86, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000002733996F420>
    │       └ <function run at 0x0000027334409760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000273398EA7A0>
           │      └ <function Runner.run at 0x000002733447D6C0>
           └ <asyncio.runners.Runner object at 0x000002733943EC10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:81> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002733447B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000002733943EC10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002733454EFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002733447CF40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000273343C6700>
    └ <Handle <TaskStepMethWrapper object at 0x0000027339995330>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000027339995330>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000027339995330>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000027339995330>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 29, in main_func
    users = await db_get_users()
                  └ <function db_get_users at 0x00000273393F47C0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 88, in db_get_users
    cur.execute("SELECT user_id FROM profile")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000027339975AC0>

sqlite3.OperationalError: no such table: profile
2023-10-17 00:33:35.950 | ERROR    | __main__:main_func:30 - An error has been caught in function 'main_func', process 'MainProcess' (13856), thread 'MainThread' (15912):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 86, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000002733996F420>
    │       └ <function run at 0x0000027334409760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000273398EA7A0>
           │      └ <function Runner.run at 0x000002733447D6C0>
           └ <asyncio.runners.Runner object at 0x000002733943EC10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:81> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002733447B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000002733943EC10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002733454EFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002733447CF40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000273343C6700>
    └ <Handle <TaskStepMethWrapper object at 0x0000027339995330>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000027339995330>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000027339995330>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000027339995330>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 30, in main_func
    await db_remove_notifications()
          └ <function db_remove_notifications at 0x00000273393F6980>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 295, in db_remove_notifications
    cur.execute("UPDATE profile SET notifications_days = NULL, notification_time = NULL")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000027339A077C0>

sqlite3.OperationalError: no such table: profile
2023-10-17 00:33:35.958 | ERROR    | __main__:main_func:38 - 'NoneType' object is not iterable
2023-10-17 02:22:54.121 | ERROR    | handlers.combinations.get_combinations:get_combinations:22 - An error has been caught in function 'get_combinations', process 'MainProcess' (16492), thread 'MainThread' (14164):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 86, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001E15631B600>
    │       └ <function run at 0x000001E150DF9760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001E15629A7A0>
           │      └ <function Runner.run at 0x000001E150E6D6C0>
           └ <asyncio.runners.Runner object at 0x000001E155C61BD0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:81> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001E150E6B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001E155C61BD0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001E150F2EFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001E150E6CF40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001E150DB6700>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1e156336d10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001E154063490>,)}
                     │    │           │    └ Update(update_id=821893715, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001E154063490>
                     │    └ <function Dispatcher.feed_update at 0x000001E155BBD440>
                     └ <Dispatcher '0x1e156336d10'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001E155B97E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001E156113510>
                     └ <Dispatcher '0x1e156336d10'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1e156336d10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001E154063490>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893715, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001E1560FA650>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1e156336d10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001E154063490>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893715, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001E15634F1D0>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1e156336d10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001E154063490>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893715, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000001E15637E520>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1e156336d10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001E154063490>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893715, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000001E1563E0B80>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1e156336d10'>>, Update(update_id=821893715, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1e156336d10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001E154063490>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767170341450158', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000001E155BBCA40>
                 └ <Dispatcher '0x1e156336d10'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1e156336d10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001E154063490>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767170341450158', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001E1563E0D60>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001E155B97E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001E155DE2D10>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001E155BBCAE0>
                 └ <Dispatcher '0x1e156336d10'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1e156336d10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001E154063490>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767170341450158', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000001E155BBCA40>
                     └ <Router '0x1e15632af50'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1e156336d10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001E154063490>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767170341450158', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001E156342020>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001E155B97E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001E156330510>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001E155BBCAE0>
                 └ <Router '0x1e15632af50'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1e156336d10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001E154063490>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767170341450158', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x000001E155B97F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001E156330510>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1e156336d10'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001E154063490>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767170341450158', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x000001E1563E0E00>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x000001E15631A980>, CallbackQuery(id='1987767170341450158', from_user=User(i...

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\handlers\combinations\get_combinations.py", line 22, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x000001E155DA93A0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 162, in db_get_user_combinations
    combinations = combinations_str.split(',')
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-17 02:22:54.143 | ERROR    | handlers.combinations.get_combinations:get_combinations:30 - Combinations not found
2023-10-17 02:33:35.139 | ERROR    | handlers.get_numbers:get_numbers:35 - An error has been caught in function 'get_numbers', process 'MainProcess' (15068), thread 'MainThread' (14592):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 86, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000002AE863CB600>
    │       └ <function run at 0x000002AEFFA59760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000002AE8634A7A0>
           │      └ <function Runner.run at 0x000002AEFFACD6C0>
           └ <asyncio.runners.Runner object at 0x000002AE861CF990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:81> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002AEFFACB1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000002AE861CF990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002AEFFB9EFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002AEFFACCF40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002AEFFA16700>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,)}
                     │    │           │    └ Update(update_id=821893751, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>
                     │    └ <function Dispatcher.feed_update at 0x000002AE85C7D440>
                     └ <Dispatcher '0x2ae863df490'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002AE85C57E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002AE85D22090>
                     └ <Dispatcher '0x2ae863df490'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893751, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000002AE861BFE50>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893751, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000002AE863FFED0>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893751, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000002AE8233CD60>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893751, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000002AE8233CF40>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x2ae863df490'>>, Update(update_id=821893751, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='272661953500597568', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000002AE85C7CA40>
                 └ <Dispatcher '0x2ae863df490'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661953500597568', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002AE8233C9A0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002AE85C57E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002AE863FD8D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002AE85C7CAE0>
                 └ <Dispatcher '0x2ae863df490'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='272661953500597568', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000002AE85C7CA40>
                     └ <Router '0x2ae85e3d950'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661953500597568', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002AE8233CAE0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002AE85C57E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002AE8638D6D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002AE85C7CAE0>
                 └ <Router '0x2ae85e3d950'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='272661953500597568', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │        └ <function TelegramEventObserver.trigger at 0x000002AE85C57F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002AE8638D6D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='272661953500597568', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 └ <function CallableMixin.call at 0x000002AE8233CB80>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_numbers at 0x000002AE86372CA0>, CallbackQuery(id='272661953500597568', from_user=User(id=6505...

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\handlers\get_numbers.py", line 35, in get_numbers
    combinations = await db_get_user_combinations(uid)
                         │                        └ 6505935002
                         └ <function db_get_user_combinations at 0x000002AE85E693A0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 162, in db_get_user_combinations
    combinations = combinations_str.split(',')
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-17 02:33:43.233 | ERROR    | handlers.combinations.get_combinations:get_combinations:22 - An error has been caught in function 'get_combinations', process 'MainProcess' (15068), thread 'MainThread' (14592):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 86, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000002AE863CB600>
    │       └ <function run at 0x000002AEFFA59760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000002AE8634A7A0>
           │      └ <function Runner.run at 0x000002AEFFACD6C0>
           └ <asyncio.runners.Runner object at 0x000002AE861CF990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:81> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002AEFFACB1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000002AE861CF990>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002AEFFB9EFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002AEFFACCF40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002AEFFA16700>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,)}
                     │    │           │    └ Update(update_id=821893753, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>
                     │    └ <function Dispatcher.feed_update at 0x000002AE85C7D440>
                     └ <Dispatcher '0x2ae863df490'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002AE85C57E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002AE85D22090>
                     └ <Dispatcher '0x2ae863df490'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893753, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000002AE861BFE50>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893753, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000002AE863FFED0>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893753, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000002AE8233CD60>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893753, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000002AE8233C2C0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x2ae863df490'>>, Update(update_id=821893753, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='272661956272471069', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000002AE85C7CA40>
                 └ <Dispatcher '0x2ae863df490'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661956272471069', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002AE8233CF40>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002AE85C57E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002AE863FD8D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002AE85C7CAE0>
                 └ <Dispatcher '0x2ae863df490'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='272661956272471069', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000002AE85C7CA40>
                     └ <Router '0x2ae863dbdd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='272661956272471069', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002AE8233C9A0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000002AE85C57E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002AE863DD390>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002AE85C7CAE0>
                 └ <Router '0x2ae863dbdd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='272661956272471069', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                     │        └ <function TelegramEventObserver.trigger at 0x000002AE85C57F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002AE863DD390>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x2ae863df490'>, 'bots': (<aiogram.client.bot.Bot object at 0x000002AE85D0BCD0>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='272661956272471069', from_user=User(id=6505935002, is_bot=False, first_name='Joi', last_name=None, username...
                 └ <function CallableMixin.call at 0x000002AE8233CB80>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x000002AE863CA980>, CallbackQuery(id='272661956272471069', from_user=User(id...

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\handlers\combinations\get_combinations.py", line 22, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 6505935002
                         └ <function db_get_user_combinations at 0x000002AE85E693A0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 162, in db_get_user_combinations
    combinations = combinations_str.split(',')
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-17 02:33:43.247 | ERROR    | handlers.combinations.get_combinations:get_combinations:30 - Combinations not found
2023-10-17 02:51:44.707 | ERROR    | handlers.notifications.not_menu:combinations_menu:37 - invalid literal for int() with base 10: '02:53'
2023-10-17 03:01:44.914 | ERROR    | handlers.notifications.not_menu:combinations_menu:37 - invalid literal for int() with base 10: '02:53'
2023-10-18 01:06:45.148 | ERROR    | handlers.combinations.get_combinations:get_combinations:22 - An error has been caught in function 'get_combinations', process 'MainProcess' (9508), thread 'MainThread' (12744):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 86, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001F444FFB7E0>
    │       └ <function run at 0x000001F43FA99760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001F444F7A960>
           │      └ <function Runner.run at 0x000001F43FB0D6C0>
           └ <asyncio.runners.Runner object at 0x000001F444DD6690>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:81> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F43FB0B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F444DD6690>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001F43FBDEFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F43FB0CF40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F43FA56700>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1f444822550'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F444940050>,)}
                     │    │           │    └ Update(update_id=821893863, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001F444940050>
                     │    └ <function Dispatcher.feed_update at 0x000001F44489D440>
                     └ <Dispatcher '0x1f444822550'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001F444877E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F44502F9D0>
                     └ <Dispatcher '0x1f444822550'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1f444822550'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F444940050>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893863, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001F444943490>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1f444822550'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F444940050>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893863, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001F445040110>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1f444822550'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F444940050>,), 'bot': <aiogra...
                 │       └ Update(update_id=821893863, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000001F440EACD60>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1f444822550'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F444940050>,), 'bot': <aiogra...
                 │             └ Update(update_id=821893863, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000001F440EACAE0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1f444822550'>>, Update(update_id=821893863, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1f444822550'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F444940050>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1176564168093207250', from_user=User(id=273940192, is_bot=False, first_name='Mike', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000001F44489CA40>
                 └ <Dispatcher '0x1f444822550'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1f444822550'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F444940050>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1176564168093207250', from_user=User(id=273940192, is_bot=False, first_name='Mike', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001F440EAD120>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001F444877E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F44502DA10>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001F44489CAE0>
                 └ <Dispatcher '0x1f444822550'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1f444822550'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F444940050>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1176564168093207250', from_user=User(id=273940192, is_bot=False, first_name='Mike', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000001F44489CA40>
                     └ <Router '0x1f44500bd10'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1f444822550'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F444940050>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1176564168093207250', from_user=User(id=273940192, is_bot=False, first_name='Mike', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001F445063EC0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001F444877E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F44500D2D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001F44489CAE0>
                 └ <Router '0x1f44500bd10'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1f444822550'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F444940050>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1176564168093207250', from_user=User(id=273940192, is_bot=False, first_name='Mike', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x000001F444877F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F44500D2D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1f444822550'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F444940050>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1176564168093207250', from_user=User(id=273940192, is_bot=False, first_name='Mike', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x000001F440EAC220>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x000001F444FFAB60>, CallbackQuery(id='1176564168093207250', from_user=User(i...

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\handlers\combinations\get_combinations.py", line 22, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 273940192
                         └ <function db_get_user_combinations at 0x000001F444A893A0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 162, in db_get_user_combinations
    combinations = combinations_str.split(',')
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-18 01:06:45.241 | ERROR    | handlers.combinations.get_combinations:get_combinations:30 - Combinations not found
2023-10-19 05:53:06.351 | ERROR    | __main__:main_func:29 - An error has been caught in function 'main_func', process 'MainProcess' (18276), thread 'MainThread' (13084):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000010CE3344860>
    │       └ <function run at 0x0000010CDDDB9760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000010CE329AF80>
           │      └ <function Runner.run at 0x0000010CDDE316C0>
           └ <asyncio.runners.Runner object at 0x0000010CE311E450>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000010CDDE2B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000010CE311E450>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000010CDDEFEFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000010CDDE30F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000010CDDD76700>
    └ <Handle <TaskStepMethWrapper object at 0x0000010CE33293C0>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000010CE33293C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000010CE33293C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000010CE33293C0>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 29, in main_func
    users = await db_get_users()
                  └ <function db_get_users at 0x0000010CE2D94860>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 88, in db_get_users
    cur.execute("SELECT user_id FROM profile")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000010CE3316740>

sqlite3.OperationalError: no such table: profile
2023-10-19 05:53:06.386 | ERROR    | __main__:main_func:30 - An error has been caught in function 'main_func', process 'MainProcess' (18276), thread 'MainThread' (13084):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000010CE3344860>
    │       └ <function run at 0x0000010CDDDB9760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000010CE329AF80>
           │      └ <function Runner.run at 0x0000010CDDE316C0>
           └ <asyncio.runners.Runner object at 0x0000010CE311E450>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000010CDDE2B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000010CE311E450>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000010CDDEFEFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000010CDDE30F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000010CDDD76700>
    └ <Handle <TaskStepMethWrapper object at 0x0000010CE33293C0>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000010CE33293C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000010CE33293C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000010CE33293C0>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 30, in main_func
    await db_remove_notifications()
          └ <function db_remove_notifications at 0x0000010CE2D96A20>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 295, in db_remove_notifications
    cur.execute("UPDATE profile SET notifications_days = NULL, notification_time = NULL")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000010CE33E0640>

sqlite3.OperationalError: no such table: profile
2023-10-19 05:53:06.393 | ERROR    | __main__:main_func:38 - 'NoneType' object is not iterable
2023-10-19 05:54:23.128 | ERROR    | handlers.combinations.get_combinations:get_combinations:22 - An error has been caught in function 'get_combinations', process 'MainProcess' (18276), thread 'MainThread' (13084):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000010CE3344860>
    │       └ <function run at 0x0000010CDDDB9760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000010CE329AF80>
           │      └ <function Runner.run at 0x0000010CDDE316C0>
           └ <asyncio.runners.Runner object at 0x0000010CE311E450>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000010CDDE2B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000010CE311E450>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000010CDDEFEFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000010CDDE30F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000010CDDD76700>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x10ce32f9110'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000010CE2C50A50>,)}
                     │    │           │    └ Update(update_id=821894152, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x0000010CE2C50A50>
                     │    └ <function Dispatcher.feed_update at 0x0000010CE2BBD440>
                     └ <Dispatcher '0x10ce32f9110'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000010CE2B97E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000010CE30DE250>
                     └ <Dispatcher '0x10ce32f9110'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10ce32f9110'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000010CE2C50A50>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894152, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x0000010CE2C53490>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10ce32f9110'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000010CE2C50A50>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894152, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x0000010CE33700D0>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10ce32f9110'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000010CE2C50A50>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894152, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x0000010CE3402200>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10ce32f9110'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000010CE2C50A50>,), 'bot': <aiogra...
                 │             └ Update(update_id=821894152, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x0000010CE3402D40>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x10ce32f9110'>>, Update(update_id=821894152, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x10ce32f9110'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000010CE2C50A50>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767170836234413', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x0000010CE2BBCA40>
                 └ <Dispatcher '0x10ce32f9110'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10ce32f9110'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000010CE2C50A50>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767170836234413', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000010CE3401D00>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000010CE2B97E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000010CE336DAD0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000010CE2BBCAE0>
                 └ <Dispatcher '0x10ce32f9110'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x10ce32f9110'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000010CE2C50A50>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767170836234413', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x0000010CE2BBCA40>
                     └ <Router '0x10ce3327d10'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10ce32f9110'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000010CE2C50A50>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767170836234413', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000010CE34023E0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000010CE2B97E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000010CE33352D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000010CE2BBCAE0>
                 └ <Router '0x10ce3327d10'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x10ce32f9110'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000010CE2C50A50>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767170836234413', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x0000010CE2B97F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000010CE33352D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10ce32f9110'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000010CE2C50A50>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767170836234413', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x0000010CE3402020>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x0000010CE331B060>, CallbackQuery(id='1987767170836234413', from_user=User(i...

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\handlers\combinations\get_combinations.py", line 22, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x0000010CE2D953A0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 162, in db_get_user_combinations
    combinations = combinations_str.split(',')
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-19 05:54:23.189 | ERROR    | handlers.combinations.get_combinations:get_combinations:30 - Combinations not found
2023-10-19 06:02:31.295 | ERROR    | handlers.combinations.get_combinations:get_combinations:22 - An error has been caught in function 'get_combinations', process 'MainProcess' (17924), thread 'MainThread' (20640):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001AC9B2B0900>
    │       └ <function run at 0x000001AC95D29760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001AC9B206EA0>
           │      └ <function Runner.run at 0x000001AC95DA16C0>
           └ <asyncio.runners.Runner object at 0x000001AC9AD90F50>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001AC95D9B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001AC9AD90F50>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001AC95E6EFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001AC95DA0F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001AC95CE6700>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1ac9b07cd90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001AC9ABBDED0>,)}
                     │    │           │    └ Update(update_id=821894174, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001AC9ABBDED0>
                     │    └ <function Dispatcher.feed_update at 0x000001AC9AB2D440>
                     └ <Dispatcher '0x1ac9b07cd90'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001AC9AB07E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001AC9B1335D0>
                     └ <Dispatcher '0x1ac9b07cd90'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1ac9b07cd90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001AC9ABBDED0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894174, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001AC9B07E210>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1ac9b07cd90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001AC9ABBDED0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894174, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001AC9B2E0110>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1ac9b07cd90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001AC9ABBDED0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894174, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x000001AC9B31D800>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1ac9b07cd90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001AC9ABBDED0>,), 'bot': <aiogra...
                 │             └ Update(update_id=821894174, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x000001AC9B31CAE0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1ac9b07cd90'>>, Update(update_id=821894174, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1ac9b07cd90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001AC9ABBDED0>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767169137835445', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x000001AC9AB2CA40>
                 └ <Dispatcher '0x1ac9b07cd90'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1ac9b07cd90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001AC9ABBDED0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767169137835445', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001AC9B31CA40>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001AC9AB07E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001AC9B03A910>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001AC9AB2CAE0>
                 └ <Dispatcher '0x1ac9b07cd90'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1ac9b07cd90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001AC9ABBDED0>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767169137835445', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x000001AC9AB2CA40>
                     └ <Router '0x1ac9b29bd50'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1ac9b07cd90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001AC9ABBDED0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767169137835445', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001AC9B31D120>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001AC9AB07E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001AC9B2A1310>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001AC9AB2CAE0>
                 └ <Router '0x1ac9b29bd50'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1ac9b07cd90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001AC9ABBDED0>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767169137835445', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x000001AC9AB07F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001AC9B2A1310>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1ac9b07cd90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001AC9ABBDED0>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767169137835445', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x000001AC9B31DD00>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x000001AC9B28B100>, CallbackQuery(id='1987767169137835445', from_user=User(i...

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\handlers\combinations\get_combinations.py", line 22, in get_combinations
    combinations = await db_get_user_combinations(uid)
                         │                        └ 462813109
                         └ <function db_get_user_combinations at 0x000001AC9AD193A0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 162, in db_get_user_combinations
    combinations = combinations_str.split(',')
                   └ None

AttributeError: 'NoneType' object has no attribute 'split'
2023-10-19 06:02:31.314 | ERROR    | handlers.combinations.get_combinations:get_combinations:30 - Combinations not found
2023-10-19 06:09:24.577 | ERROR    | handlers.combinations.add_combination:save_combination:93 - An error has been caught in function 'save_combination', process 'MainProcess' (12256), thread 'MainThread' (15424):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000021D11FB09A0>
    │       └ <function run at 0x0000021D0CA29760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000021D11F06C00>
           │      └ <function Runner.run at 0x0000021D0CAA16C0>
           └ <asyncio.runners.Runner object at 0x0000021D11A90950>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000021D0CA9B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000021D11A90950>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000021D0CB6EFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021D0CAA0F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021D0C9E6700>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,)}
                     │    │           │    └ Update(update_id=821894197, message=Message(message_id=3165, date=datetime.datetime(2023, 10, 18, 23, 11, 22, tzinfo=TzInfo(U...
                     │    │           └ <aiogram.client.bot.Bot object at 0x0000021D11610190>
                     │    └ <function Dispatcher.feed_update at 0x0000021D1182D440>
                     └ <Dispatcher '0x21d11e03590'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000021D11807E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000021D115AE390>
                     └ <Dispatcher '0x21d11e03590'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894197, message=Message(message_id=3165, date=datetime.datetime(2023, 10, 18, 23, 11, 22, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x0000021D118D2650>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894197, message=Message(message_id=3165, date=datetime.datetime(2023, 10, 18, 23, 11, 22, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x0000021D11FE0550>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894197, message=Message(message_id=3165, date=datetime.datetime(2023, 10, 18, 23, 11, 22, tzinfo=TzInfo(U...
                 └ <function TelegramEventObserver.trigger at 0x0000021D11FB3420>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │             └ Update(update_id=821894197, message=Message(message_id=3165, date=datetime.datetime(2023, 10, 18, 23, 11, 22, tzinfo=TzInfo(U...
                 └ <function CallableMixin.call at 0x0000021D1201D1C0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x21d11e03590'>>, Update(update_id=821894197, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │    │                           │                  └ Message(message_id=3165, date=datetime.datetime(2023, 10, 18, 23, 11, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x0000021D1182CA40>
                 └ <Dispatcher '0x21d11e03590'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=3165, date=datetime.datetime(2023, 10, 18, 23, 11, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000021D1201DF80>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000021D11807E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000021D11D92150>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000021D1182CAE0>
                 └ <Dispatcher '0x21d11e03590'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                     │      │                           │                  └ Message(message_id=3165, date=datetime.datetime(2023, 10, 18, 23, 11, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x0000021D1182CA40>
                     └ <Router '0x21d11f8f690'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=3165, date=datetime.datetime(2023, 10, 18, 23, 11, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000021D1201CB80>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000021D11807E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000021D11F8F710>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000021D1182CAE0>
                 └ <Router '0x21d11f8f690'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                     │        │       └ Message(message_id=3165, date=datetime.datetime(2023, 10, 18, 23, 11, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                     │        └ <function TelegramEventObserver.trigger at 0x0000021D11807F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000021D11F8F710>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │             └ Message(message_id=3165, date=datetime.datetime(2023, 10, 18, 23, 11, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 └ <function CallableMixin.call at 0x0000021D1201D760>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function save_combination at 0x0000021D11F89B20>, Message(message_id=3165, date=datetime.datetime(2023, 10...

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\handlers\combinations\add_combination.py", line 93, in save_combination
    await db_add_comb_group(uid, comb)
          │                 │    └ 'XXXAAAB, XXXAAAB'
          │                 └ 462813109
          └ <function db_add_comb_group at 0x0000021D11A1B560>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 361, in db_add_comb_group
    cur.execute("INSERT INTO comb_groups (user_id, group_index, comb_group) VALUES (?, ?, ?)",
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000021D1228D1C0>

sqlite3.OperationalError: no such table: comb_groups
2023-10-19 06:10:39.019 | ERROR    | handlers.combinations.add_combination:save_combination:93 - An error has been caught in function 'save_combination', process 'MainProcess' (12256), thread 'MainThread' (15424):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000021D11FB09A0>
    │       └ <function run at 0x0000021D0CA29760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000021D11F06C00>
           │      └ <function Runner.run at 0x0000021D0CAA16C0>
           └ <asyncio.runners.Runner object at 0x0000021D11A90950>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000021D0CA9B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000021D11A90950>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000021D0CB6EFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021D0CAA0F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000021D0C9E6700>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,)}
                     │    │           │    └ Update(update_id=821894200, message=Message(message_id=3169, date=datetime.datetime(2023, 10, 18, 23, 12, 37, tzinfo=TzInfo(U...
                     │    │           └ <aiogram.client.bot.Bot object at 0x0000021D11610190>
                     │    └ <function Dispatcher.feed_update at 0x0000021D1182D440>
                     └ <Dispatcher '0x21d11e03590'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000021D11807E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000021D115AE390>
                     └ <Dispatcher '0x21d11e03590'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894200, message=Message(message_id=3169, date=datetime.datetime(2023, 10, 18, 23, 12, 37, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x0000021D118D2650>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894200, message=Message(message_id=3169, date=datetime.datetime(2023, 10, 18, 23, 12, 37, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x0000021D11FE0550>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894200, message=Message(message_id=3169, date=datetime.datetime(2023, 10, 18, 23, 12, 37, tzinfo=TzInfo(U...
                 └ <function TelegramEventObserver.trigger at 0x0000021D1201D1C0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │             └ Update(update_id=821894200, message=Message(message_id=3169, date=datetime.datetime(2023, 10, 18, 23, 12, 37, tzinfo=TzInfo(U...
                 └ <function CallableMixin.call at 0x0000021D1201CAE0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x21d11e03590'>>, Update(update_id=821894200, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │    │                           │                  └ Message(message_id=3169, date=datetime.datetime(2023, 10, 18, 23, 12, 37, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x0000021D1182CA40>
                 └ <Dispatcher '0x21d11e03590'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=3169, date=datetime.datetime(2023, 10, 18, 23, 12, 37, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000021D1201DEE0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000021D11807E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000021D11D92150>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000021D1182CAE0>
                 └ <Dispatcher '0x21d11e03590'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                     │      │                           │                  └ Message(message_id=3169, date=datetime.datetime(2023, 10, 18, 23, 12, 37, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x0000021D1182CA40>
                     └ <Router '0x21d11f8f690'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=3169, date=datetime.datetime(2023, 10, 18, 23, 12, 37, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000021D1201D580>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000021D11807E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000021D11F8F710>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000021D1182CAE0>
                 └ <Router '0x21d11f8f690'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                     │        │       └ Message(message_id=3169, date=datetime.datetime(2023, 10, 18, 23, 12, 37, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                     │        └ <function TelegramEventObserver.trigger at 0x0000021D11807F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000021D11F8F710>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x21d11e03590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021D11610190>,), 'bot': <aiogra...
                 │             └ Message(message_id=3169, date=datetime.datetime(2023, 10, 18, 23, 12, 37, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 └ <function CallableMixin.call at 0x0000021D1201DF80>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function save_combination at 0x0000021D11F89B20>, Message(message_id=3169, date=datetime.datetime(2023, 10...

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\handlers\combinations\add_combination.py", line 93, in save_combination
    await db_add_comb_group(uid, comb)
          │                 │    └ 'XXXAAAB, XXXAAAB'
          │                 └ 462813109
          └ <function db_add_comb_group at 0x0000021D11A1B560>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 361, in db_add_comb_group
    cur.execute("INSERT INTO comb_groups (user_id, group_index, comb_group) VALUES (?, ?, ?)",
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000021D12267840>

sqlite3.OperationalError: no such table: comb_groups
2023-10-19 06:12:28.962 | ERROR    | __main__:main_func:29 - An error has been caught in function 'main_func', process 'MainProcess' (2192), thread 'MainThread' (20004):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000208237C09A0>
    │       └ <function run at 0x000002081E299760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000020823716C00>
           │      └ <function Runner.run at 0x000002081E3116C0>
           └ <asyncio.runners.Runner object at 0x00000208232A1250>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002081E30B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000208232A1250>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002081E3CEFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002081E310F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002081E256700>
    └ <Handle <TaskStepMethWrapper object at 0x0000020823749E10>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000020823749E10>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000020823749E10>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000020823749E10>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 29, in main_func
    users = await db_get_users()
                  └ <function db_get_users at 0x0000020823228860>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 88, in db_get_users
    cur.execute("SELECT user_id FROM profile")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000020823792740>

sqlite3.OperationalError: no such table: profile
2023-10-19 06:12:28.969 | ERROR    | __main__:main_func:30 - An error has been caught in function 'main_func', process 'MainProcess' (2192), thread 'MainThread' (20004):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000208237C09A0>
    │       └ <function run at 0x000002081E299760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000020823716C00>
           │      └ <function Runner.run at 0x000002081E3116C0>
           └ <asyncio.runners.Runner object at 0x00000208232A1250>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002081E30B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000208232A1250>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002081E3CEFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002081E310F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002081E256700>
    └ <Handle <TaskStepMethWrapper object at 0x0000020823749E10>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000020823749E10>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000020823749E10>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000020823749E10>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 30, in main_func
    await db_remove_notifications()
          └ <function db_remove_notifications at 0x000002082322AA20>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 295, in db_remove_notifications
    cur.execute("UPDATE profile SET notifications_days = NULL, notification_time = NULL")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000020823858640>

sqlite3.OperationalError: no such table: profile
2023-10-19 06:12:28.976 | ERROR    | __main__:main_func:38 - 'NoneType' object is not iterable
2023-10-19 06:12:41.386 | ERROR    | handlers.combinations.add_combination:save_combination:93 - An error has been caught in function 'save_combination', process 'MainProcess' (2192), thread 'MainThread' (20004):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000208237C09A0>
    │       └ <function run at 0x000002081E299760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000020823716C00>
           │      └ <function Runner.run at 0x000002081E3116C0>
           └ <asyncio.runners.Runner object at 0x00000208232A1250>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002081E30B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000208232A1250>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002081E3CEFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002081E310F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002081E256700>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x208230e0110'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000208230E3810>,)}
                     │    │           │    └ Update(update_id=821894205, message=Message(message_id=3177, date=datetime.datetime(2023, 10, 18, 23, 14, 40, tzinfo=TzInfo(U...
                     │    │           └ <aiogram.client.bot.Bot object at 0x00000208230E3810>
                     │    └ <function Dispatcher.feed_update at 0x000002082303D440>
                     └ <Dispatcher '0x208230e0110'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000020823017E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000020822E38790>
                     └ <Dispatcher '0x208230e0110'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x208230e0110'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000208230E3810>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894205, message=Message(message_id=3177, date=datetime.datetime(2023, 10, 18, 23, 14, 40, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x0000020823612E10>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x208230e0110'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000208230E3810>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894205, message=Message(message_id=3177, date=datetime.datetime(2023, 10, 18, 23, 14, 40, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x00000208237EF090>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x208230e0110'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000208230E3810>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894205, message=Message(message_id=3177, date=datetime.datetime(2023, 10, 18, 23, 14, 40, tzinfo=TzInfo(U...
                 └ <function TelegramEventObserver.trigger at 0x000002082387ADE0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x208230e0110'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000208230E3810>,), 'bot': <aiogra...
                 │             └ Update(update_id=821894205, message=Message(message_id=3177, date=datetime.datetime(2023, 10, 18, 23, 14, 40, tzinfo=TzInfo(U...
                 └ <function CallableMixin.call at 0x000002082387A5C0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x208230e0110'>>, Update(update_id=821894205, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x208230e0110'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000208230E3810>,), 'bot': <aiogra...
                 │    │                           │                  └ Message(message_id=3177, date=datetime.datetime(2023, 10, 18, 23, 14, 40, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x000002082303CA40>
                 └ <Dispatcher '0x208230e0110'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x208230e0110'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000208230E3810>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=3177, date=datetime.datetime(2023, 10, 18, 23, 14, 40, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002082387AD40>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000020823017E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002082359F210>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002082303CAE0>
                 └ <Dispatcher '0x208230e0110'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x208230e0110'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000208230E3810>,), 'bot': <aiogra...
                     │      │                           │                  └ Message(message_id=3177, date=datetime.datetime(2023, 10, 18, 23, 14, 40, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x000002082303CA40>
                     └ <Router '0x2082379e450'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x208230e0110'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000208230E3810>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=3177, date=datetime.datetime(2023, 10, 18, 23, 14, 40, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000020823879EE0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000020823017E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002082379E4D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000002082303CAE0>
                 └ <Router '0x2082379e450'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x208230e0110'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000208230E3810>,), 'bot': <aiogra...
                     │        │       └ Message(message_id=3177, date=datetime.datetime(2023, 10, 18, 23, 14, 40, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                     │        └ <function TelegramEventObserver.trigger at 0x0000020823017F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000002082379E4D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x208230e0110'>, 'bots': (<aiogram.client.bot.Bot object at 0x00000208230E3810>,), 'bot': <aiogra...
                 │             └ Message(message_id=3177, date=datetime.datetime(2023, 10, 18, 23, 14, 40, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 └ <function CallableMixin.call at 0x000002082387AFC0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function save_combination at 0x0000020823799B20>, Message(message_id=3177, date=datetime.datetime(2023, 10...

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\handlers\combinations\add_combination.py", line 93, in save_combination
    await db_add_comb_group(uid, comb)
          │                 │    └ 'XXXAAAB, XXXAAAB'
          │                 └ 462813109
          └ <function db_add_comb_group at 0x000002082322B560>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 361, in db_add_comb_group
    cur.execute("INSERT INTO comb_groups (user_id, group_index, comb_group) VALUES (?, ?, ?)",
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x000002082389E140>

sqlite3.OperationalError: no such table: comb_groups
2023-10-19 06:15:16.893 | ERROR    | handlers.combinations.add_combination:save_combination:93 - An error has been caught in function 'save_combination', process 'MainProcess' (12484), thread 'MainThread' (10304):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000022B7BC80900>
    │       └ <function run at 0x0000022B766F9760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000022B7BBDACE0>
           │      └ <function Runner.run at 0x0000022B767716C0>
           └ <asyncio.runners.Runner object at 0x0000022B7B764C90>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000022B7676B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000022B7B764C90>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000022B7683EFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000022B76770F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022B766B6700>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x22b7ba4a390'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000022B7B5A0050>,)}
                     │    │           │    └ Update(update_id=821894210, message=Message(message_id=3185, date=datetime.datetime(2023, 10, 18, 23, 17, 15, tzinfo=TzInfo(U...
                     │    │           └ <aiogram.client.bot.Bot object at 0x0000022B7B5A0050>
                     │    └ <function Dispatcher.feed_update at 0x0000022B7B4FD440>
                     └ <Dispatcher '0x22b7ba4a390'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000022B7B4D7E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000022B7B5A20D0>
                     └ <Dispatcher '0x22b7ba4a390'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x22b7ba4a390'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000022B7B5A0050>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894210, message=Message(message_id=3185, date=datetime.datetime(2023, 10, 18, 23, 17, 15, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x0000022B7BCAC6D0>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x22b7ba4a390'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000022B7B5A0050>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894210, message=Message(message_id=3185, date=datetime.datetime(2023, 10, 18, 23, 17, 15, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x0000022B7BCAC750>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x22b7ba4a390'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000022B7B5A0050>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894210, message=Message(message_id=3185, date=datetime.datetime(2023, 10, 18, 23, 17, 15, tzinfo=TzInfo(U...
                 └ <function TelegramEventObserver.trigger at 0x0000022B7BCB74C0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x22b7ba4a390'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000022B7B5A0050>,), 'bot': <aiogra...
                 │             └ Update(update_id=821894210, message=Message(message_id=3185, date=datetime.datetime(2023, 10, 18, 23, 17, 15, tzinfo=TzInfo(U...
                 └ <function CallableMixin.call at 0x0000022B7BCB7100>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x22b7ba4a390'>>, Update(update_id=821894210, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x22b7ba4a390'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000022B7B5A0050>,), 'bot': <aiogra...
                 │    │                           │                  └ Message(message_id=3185, date=datetime.datetime(2023, 10, 18, 23, 17, 15, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x0000022B7B4FCA40>
                 └ <Dispatcher '0x22b7ba4a390'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x22b7ba4a390'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000022B7B5A0050>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=3185, date=datetime.datetime(2023, 10, 18, 23, 17, 15, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000022B7BCED800>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000022B7B4D7E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000022B7B772250>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000022B7B4FCAE0>
                 └ <Dispatcher '0x22b7ba4a390'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x22b7ba4a390'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000022B7B5A0050>,), 'bot': <aiogra...
                     │      │                           │                  └ Message(message_id=3185, date=datetime.datetime(2023, 10, 18, 23, 17, 15, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x0000022B7B4FCA40>
                     └ <Router '0x22b7bc5b990'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x22b7ba4a390'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000022B7B5A0050>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=3185, date=datetime.datetime(2023, 10, 18, 23, 17, 15, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000022B7BCECEA0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000022B7B4D7E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000022B7BC5BA10>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000022B7B4FCAE0>
                 └ <Router '0x22b7bc5b990'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x22b7ba4a390'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000022B7B5A0050>,), 'bot': <aiogra...
                     │        │       └ Message(message_id=3185, date=datetime.datetime(2023, 10, 18, 23, 17, 15, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                     │        └ <function TelegramEventObserver.trigger at 0x0000022B7B4D7F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000022B7BC5BA10>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x22b7ba4a390'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000022B7B5A0050>,), 'bot': <aiogra...
                 │             └ Message(message_id=3185, date=datetime.datetime(2023, 10, 18, 23, 17, 15, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='...
                 └ <function CallableMixin.call at 0x0000022B7BCEE2A0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function save_combination at 0x0000022B7BC5DA80>, Message(message_id=3185, date=datetime.datetime(2023, 10...

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\handlers\combinations\add_combination.py", line 93, in save_combination
    await db_add_comb_group(uid, comb)
          │                 │    └ 'XXXAAAB, XXXAAAB'
          │                 └ 462813109
          └ <function db_add_comb_group at 0x0000022B7B6DF560>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 362, in db_add_comb_group
    cur.execute("SELECT MAX(group_index) FROM comb_groups WHERE user_id = ?", (user_id,))
    │   │                                                                      └ 462813109
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000022B7BF5D1C0>

sqlite3.OperationalError: no such table: comb_groups
2023-10-19 06:31:17.068 | ERROR    | __main__:main_func:29 - An error has been caught in function 'main_func', process 'MainProcess' (16500), thread 'MainThread' (1944):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000272B34B0720>
    │       └ <function run at 0x00000272ADF29760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000272B3406C00>
           │      └ <function Runner.run at 0x00000272ADFA16C0>
           └ <asyncio.runners.Runner object at 0x00000272B3267C10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000272ADF9B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000272B3267C10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x00000272AE06EFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000272ADFA0F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000272ADEE6700>
    └ <Handle <TaskStepMethWrapper object at 0x00000272B3435C60>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000272B3435C60>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000272B3435C60>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000272B3435C60>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 29, in main_func
    users = await db_get_users()
                  └ <function db_get_users at 0x00000272B2F185E0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 89, in db_get_users
    cur.execute("SELECT user_id FROM profile")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x00000272B347E640>

sqlite3.OperationalError: no such table: profile
2023-10-19 06:31:17.077 | ERROR    | __main__:main_func:30 - An error has been caught in function 'main_func', process 'MainProcess' (16500), thread 'MainThread' (1944):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000272B34B0720>
    │       └ <function run at 0x00000272ADF29760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000272B3406C00>
           │      └ <function Runner.run at 0x00000272ADFA16C0>
           └ <asyncio.runners.Runner object at 0x00000272B3267C10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000272ADF9B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000272B3267C10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x00000272AE06EFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000272ADFA0F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000272ADEE6700>
    └ <Handle <TaskStepMethWrapper object at 0x00000272B3435C60>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000272B3435C60>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000272B3435C60>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000272B3435C60>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 30, in main_func
    await db_remove_notifications()
          └ <function db_remove_notifications at 0x00000272B2F1A7A0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 296, in db_remove_notifications
    cur.execute("UPDATE profile SET notifications_days = NULL, notification_time = NULL")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x00000272B354C5C0>

sqlite3.OperationalError: no such table: profile
2023-10-19 06:31:17.084 | ERROR    | __main__:main_func:38 - 'NoneType' object is not iterable
2023-10-19 06:52:18.590 | ERROR    | __main__:main_func:29 - An error has been caught in function 'main_func', process 'MainProcess' (18044), thread 'MainThread' (20028):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000015FE8C40900>
    │       └ <function run at 0x0000015FE36B9760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000015FE8B9ACE0>
           │      └ <function Runner.run at 0x0000015FE37316C0>
           └ <asyncio.runners.Runner object at 0x0000015FE8A30950>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000015FE372B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000015FE8A30950>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000015FE37FEFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000015FE3730F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000015FE3676700>
    └ <Handle <TaskStepMethWrapper object at 0x0000015FE8BC9E70>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000015FE8BC9E70>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000015FE8BC9E70>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000015FE8BC9E70>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 29, in main_func
    users = await db_get_users()
                  └ <function db_get_users at 0x0000015FE869C860>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 88, in db_get_users
    cur.execute("SELECT user_id FROM profile")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000015FE8C126C0>

sqlite3.OperationalError: no such table: profile
2023-10-19 06:52:18.598 | ERROR    | __main__:main_func:30 - An error has been caught in function 'main_func', process 'MainProcess' (18044), thread 'MainThread' (20028):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000015FE8C40900>
    │       └ <function run at 0x0000015FE36B9760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000015FE8B9ACE0>
           │      └ <function Runner.run at 0x0000015FE37316C0>
           └ <asyncio.runners.Runner object at 0x0000015FE8A30950>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000015FE372B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000015FE8A30950>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000015FE37FEFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000015FE3730F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000015FE3676700>
    └ <Handle <TaskStepMethWrapper object at 0x0000015FE8BC9E70>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000015FE8BC9E70>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000015FE8BC9E70>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000015FE8BC9E70>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 30, in main_func
    await db_remove_notifications()
          └ <function db_remove_notifications at 0x0000015FE869EA20>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 295, in db_remove_notifications
    cur.execute("UPDATE profile SET notifications_days = NULL, notification_time = NULL")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x0000015FE8CD85C0>

sqlite3.OperationalError: no such table: profile
2023-10-19 06:52:18.604 | ERROR    | __main__:main_func:38 - 'NoneType' object is not iterable
2023-10-19 07:00:01.099 | ERROR    | handlers.combinations.del_combination:remove_combination:57 - An error has been caught in function 'remove_combination', process 'MainProcess' (13500), thread 'MainThread' (20544):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 87, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000219496E0860>
    │       └ <function run at 0x00000219441E9760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000002194963AEA0>
           │      └ <function Runner.run at 0x00000219442616C0>
           └ <asyncio.runners.Runner object at 0x00000219447A6390>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:82> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002194425B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000219447A6390>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000002194431EFC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000021944260F40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000219441A6700>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x219494c3590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021948FED210>,)}
                     │    │           │    └ Update(update_id=821894246, message=Message(message_id=3238, date=datetime.datetime(2023, 10, 19, 0, 1, 59, tzinfo=TzInfo(UTC...
                     │    │           └ <aiogram.client.bot.Bot object at 0x0000021948FED210>
                     │    └ <function Dispatcher.feed_update at 0x0000021948F5D440>
                     └ <Dispatcher '0x219494c3590'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000021948F37E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000021948CDE390>
                     └ <Dispatcher '0x219494c3590'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x219494c3590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021948FED210>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894246, message=Message(message_id=3238, date=datetime.datetime(2023, 10, 19, 0, 1, 59, tzinfo=TzInfo(UTC...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x0000021949001D50>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x219494c3590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021948FED210>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894246, message=Message(message_id=3238, date=datetime.datetime(2023, 10, 19, 0, 1, 59, tzinfo=TzInfo(UTC...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000002194970C790>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x219494c3590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021948FED210>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894246, message=Message(message_id=3238, date=datetime.datetime(2023, 10, 19, 0, 1, 59, tzinfo=TzInfo(UTC...
                 └ <function TelegramEventObserver.trigger at 0x0000021949717060>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x219494c3590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021948FED210>,), 'bot': <aiogra...
                 │             └ Update(update_id=821894246, message=Message(message_id=3238, date=datetime.datetime(2023, 10, 19, 0, 1, 59, tzinfo=TzInfo(UTC...
                 └ <function CallableMixin.call at 0x000002194974D1C0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x219494c3590'>>, Update(update_id=821894246, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x219494c3590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021948FED210>,), 'bot': <aiogra...
                 │    │                           │                  └ Message(message_id=3238, date=datetime.datetime(2023, 10, 19, 0, 1, 59, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x0000021948F5CA40>
                 └ <Dispatcher '0x219494c3590'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x219494c3590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021948FED210>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=3238, date=datetime.datetime(2023, 10, 19, 0, 1, 59, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002194974DDA0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000021948F37E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000021947432250>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000021948F5CAE0>
                 └ <Dispatcher '0x219494c3590'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x219494c3590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021948FED210>,), 'bot': <aiogra...
                     │      │                           │                  └ Message(message_id=3238, date=datetime.datetime(2023, 10, 19, 0, 1, 59, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x0000021948F5CA40>
                     └ <Router '0x219496d7c50'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x219494c3590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021948FED210>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=3238, date=datetime.datetime(2023, 10, 19, 0, 1, 59, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000002194974D120>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000021948F37E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000219496DC0D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000021948F5CAE0>
                 └ <Router '0x219496d7c50'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x219494c3590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021948FED210>,), 'bot': <aiogra...
                     │        │       └ Message(message_id=3238, date=datetime.datetime(2023, 10, 19, 0, 1, 59, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                     │        └ <function TelegramEventObserver.trigger at 0x0000021948F37F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x00000219496DC0D0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x219494c3590'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000021948FED210>,), 'bot': <aiogra...
                 │             └ Message(message_id=3238, date=datetime.datetime(2023, 10, 19, 0, 1, 59, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='pr...
                 └ <function CallableMixin.call at 0x000002194974D760>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function remove_combination at 0x00000219496E0680>, Message(message_id=3238, date=datetime.datetime(2023, ...

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\handlers\combinations\del_combination.py", line 57, in remove_combination
    await db_remove_combination(uid, comb_num)
          │                     │    └ 1
          │                     └ 462813109
          └ <function db_remove_combination at 0x000002194913D6C0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 192, in db_remove_combination
    cur.execute(f"INSERT INTO {table_name} (user_id, comb_group) VALUES (?, ?)", (user_id, comb_group))
    │   │                                                                         │        └ 'XXXAAAB, XXXAAAB'
    │   │                                                                         └ 462813109
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x000002194998C340>

sqlite3.OperationalError: table user_462813109 has no column named user_id
2023-10-19 07:11:51.342 | ERROR    | handlers.combinations.get_combinations:get_combinations:30 - Combinations not found
2023-10-20 02:01:32.645 | ERROR    | handlers.combinations.get_combinations:get_combinations:30 - Combinations not found
2023-10-20 02:02:09.591 | ERROR    | handlers.combinations.get_combinations:get_combinations:30 - Combinations not found
2023-10-20 02:09:55.368 | ERROR    | handlers.combinations.set_groups:get_combinations:22 - An error has been caught in function 'get_combinations', process 'MainProcess' (13968), thread 'MainThread' (18932):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 89, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x0000012F05B0F4C0>
    │       └ <function run at 0x0000012F7F18D760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x0000012F05A67060>
           │      └ <function Runner.run at 0x0000012F7F1FD6C0>
           └ <asyncio.runners.Runner object at 0x0000012F0551D290>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:84> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000012F7F1FB1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000012F0551D290>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x0000012F7F2C2FC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000012F7F1FCF40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000012F7F146700>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x12f058eebd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000012F054319D0>,)}
                     │    │           │    └ Update(update_id=821894549, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                     │    │           └ <aiogram.client.bot.Bot object at 0x0000012F054319D0>
                     │    └ <function Dispatcher.feed_update at 0x0000012F05391440>
                     └ <Dispatcher '0x12f058eebd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000012F05367E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000012F05B5A210>
                     └ <Dispatcher '0x12f058eebd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x12f058eebd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000012F054319D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894549, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x0000012F05B5A910>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x12f058eebd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000012F054319D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894549, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x0000012F05B5A890>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x12f058eebd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000012F054319D0>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894549, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function TelegramEventObserver.trigger at 0x0000012F05B46020>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x12f058eebd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000012F054319D0>,), 'bot': <aiogra...
                 │             └ Update(update_id=821894549, message=None, edited_message=None, channel_post=None, edited_channel_post=None, inline_query=None...
                 └ <function CallableMixin.call at 0x0000012F05BD8A40>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x12f058eebd0'>>, Update(update_id=821894549, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x12f058eebd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000012F054319D0>,), 'bot': <aiogra...
                 │    │                           │                  └ CallbackQuery(id='1987767168617931178', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │    │                           └ 'callback_query'
                 │    └ <function Router.propagate_event at 0x0000012F05390A40>
                 └ <Dispatcher '0x12f058eebd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x12f058eebd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000012F054319D0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767168617931178', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000012F05BD8F40>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000012F05367E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000012F05B58290>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000012F05390AE0>
                 └ <Dispatcher '0x12f058eebd0'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x12f058eebd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000012F054319D0>,), 'bot': <aiogra...
                     │      │                           │                  └ CallbackQuery(id='1987767168617931178', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │      │                           └ 'callback_query'
                     │      └ <function Router.propagate_event at 0x0000012F05390A40>
                     └ <Router '0x12f05af3990'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x12f058eebd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000012F054319D0>,), 'bot': <aiogra...
                 │        │                     │               └ CallbackQuery(id='1987767168617931178', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x0000012F05BD89A0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x0000012F05367E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000012F05B3BFD0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x0000012F05390AE0>
                 └ <Router '0x12f05af3990'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x12f058eebd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000012F054319D0>,), 'bot': <aiogra...
                     │        │       └ CallbackQuery(id='1987767168617931178', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                     │        └ <function TelegramEventObserver.trigger at 0x0000012F05367F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x0000012F05B3BFD0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x12f058eebd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x0000012F054319D0>,), 'bot': <aiogra...
                 │             └ CallbackQuery(id='1987767168617931178', from_user=User(id=462813109, is_bot=False, first_name='Ivan', last_name=None, usernam...
                 └ <function CallableMixin.call at 0x0000012F05BD9120>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function get_combinations at 0x0000012F05B0F380>, CallbackQuery(id='1987767168617931178', from_user=User(i...

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\handlers\combinations\set_groups.py", line 22, in get_combinations
    active_groups = await db_get_comb_groups()
                          └ <function db_get_comb_groups at 0x0000012F0557BA60>

TypeError: db_get_comb_groups() missing 1 required positional argument: 'user_id'
2023-10-20 02:09:55.413 | ERROR    | handlers.combinations.set_groups:get_combinations:30 - Combinations not found
2023-10-20 02:37:17.344 | ERROR    | __main__:main_func:29 - An error has been caught in function 'main_func', process 'MainProcess' (8776), thread 'MainThread' (15764):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 89, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000264C0BDF420>
    │       └ <function run at 0x00000264BB65D760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000264C0B37220>
           │      └ <function Runner.run at 0x00000264BB6CD6C0>
           └ <asyncio.runners.Runner object at 0x00000264C062C1D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:84> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000264BB6CB1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000264C062C1D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x00000264BB7A2FC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000264BB6CCF40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000264BB616700>
    └ <Handle <TaskStepMethWrapper object at 0x00000264C0B63BB0>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000264C0B63BB0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000264C0B63BB0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000264C0B63BB0>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 29, in main_func
    users = await db_get_users()
                  └ <function db_get_users at 0x00000264C0648860>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 88, in db_get_users
    cur.execute("SELECT user_id FROM profile")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x00000264C0BB39C0>

sqlite3.OperationalError: no such table: profile
2023-10-20 02:37:17.373 | ERROR    | __main__:main_func:30 - An error has been caught in function 'main_func', process 'MainProcess' (8776), thread 'MainThread' (15764):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 89, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x00000264C0BDF420>
    │       └ <function run at 0x00000264BB65D760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x00000264C0B37220>
           │      └ <function Runner.run at 0x00000264BB6CD6C0>
           └ <asyncio.runners.Runner object at 0x00000264C062C1D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:84> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x00000264BB6CB1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x00000264C062C1D0>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x00000264BB7A2FC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000264BB6CCF40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000264BB616700>
    └ <Handle <TaskStepMethWrapper object at 0x00000264C0B63BB0>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x00000264C0B63BB0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x00000264C0B63BB0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x00000264C0B63BB0>()>

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 30, in main_func
    await db_remove_notifications()
          └ <function db_remove_notifications at 0x00000264C064AA20>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 291, in db_remove_notifications
    cur.execute("UPDATE profile SET notifications_days = NULL, notification_time = NULL")
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x00000264C0C857C0>

sqlite3.OperationalError: no such table: profile
2023-10-20 02:37:17.379 | ERROR    | __main__:main_func:38 - 'NoneType' object is not iterable
2023-10-20 02:38:09.280 | ERROR    | handlers.combinations.get_combinations:get_combinations:30 - Combinations not found
2023-10-20 02:58:22.797 | ERROR    | handlers.combinations.set_groups:set_active_groups:58 - An error has been caught in function 'set_active_groups', process 'MainProcess' (15452), thread 'MainThread' (21076):
Traceback (most recent call last):

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py", line 89, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x000001F4B5E5F920>
    │       └ <function run at 0x000001F4B08DD760>
    └ <module 'asyncio' from 'C:\\Users\\som30\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\asyncio\\__init__.py'>

  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x000001F4B5DB73E0>
           │      └ <function Runner.run at 0x000001F4B094D6C0>
           └ <asyncio.runners.Runner object at 0x000001F4B5790A10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at D:\Work Projects\Mega_Bot\Megafon_bot_testing\bot.py:84> wait_for=<_Gathe...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F4B094B1A0>
           │    └ <ProactorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F4B5790A10>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 640, in run_until_complete
    self.run_forever()
    │    └ <function ProactorEventLoop.run_forever at 0x000001F4B0A22FC0>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 607, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F4B094CF40>
    └ <ProactorEventLoop running=True closed=False debug=False>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 1919, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F4B0896700>
    └ <Handle <TaskStepMethWrapper object at 0x000001F4B5E84D00>()>
  File "C:\Users\som30\AppData\Local\Programs\Python\Python311\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F4B5E84D00>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F4B5E84D00>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F4B5E84D00>()>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 308, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1f4b5e69b90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F4B576B710>,)}
                     │    │           │    └ Update(update_id=821894564, message=Message(message_id=3716, date=datetime.datetime(2023, 10, 19, 20, 0, 21, tzinfo=TzInfo(UT...
                     │    │           └ <aiogram.client.bot.Bot object at 0x000001F4B576B710>
                     │    └ <function Dispatcher.feed_update at 0x000001F4B56E1440>
                     └ <Dispatcher '0x1f4b5e69b90'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 157, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001F4B56B7E20>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F4B5C2FC90>
                     └ <Dispatcher '0x1f4b5e69b90'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1f4b5e69b90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F4B576B710>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894564, message=Message(message_id=3716, date=datetime.datetime(2023, 10, 19, 20, 0, 21, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x000001F4B5D87750>, functools...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 27, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1f4b5e69b90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F4B576B710>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894564, message=Message(message_id=3716, date=datetime.datetime(2023, 10, 19, 20, 0, 21, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x000001F4B5EABBD0>, <function TelegramEventObserver...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 41, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1f4b5e69b90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F4B576B710>,), 'bot': <aiogra...
                 │       └ Update(update_id=821894564, message=Message(message_id=3716, date=datetime.datetime(2023, 10, 19, 20, 0, 21, tzinfo=TzInfo(UT...
                 └ <function TelegramEventObserver.trigger at 0x000001F4B5FC1260>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1f4b5e69b90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F4B576B710>,), 'bot': <aiogra...
                 │             └ Update(update_id=821894564, message=Message(message_id=3716, date=datetime.datetime(2023, 10, 19, 20, 0, 21, tzinfo=TzInfo(UT...
                 └ <function CallableMixin.call at 0x000001F4B5FC0F40>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1f4b5e69b90'>>, Update(update_id=821894564, messa...
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 275, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1f4b5e69b90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F4B576B710>,), 'bot': <aiogra...
                 │    │                           │                  └ Message(message_id=3716, date=datetime.datetime(2023, 10, 19, 20, 0, 21, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='p...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x000001F4B56E0A40>
                 └ <Dispatcher '0x1f4b5e69b90'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1f4b5e69b90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F4B576B710>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=3716, date=datetime.datetime(2023, 10, 19, 20, 0, 21, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='p...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001F4B5FC1580>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001F4B56B7E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F4B5E97750>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001F4B56E0AE0>
                 └ <Dispatcher '0x1f4b5e69b90'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 144, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1f4b5e69b90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F4B576B710>,), 'bot': <aiogra...
                     │      │                           │                  └ Message(message_id=3716, date=datetime.datetime(2023, 10, 19, 20, 0, 21, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='p...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x000001F4B56E0A40>
                     └ <Router '0x1f4b5c3ec90'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 116, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1f4b5e69b90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F4B576B710>,), 'bot': <aiogra...
                 │        │                     │               └ Message(message_id=3716, date=datetime.datetime(2023, 10, 19, 20, 0, 21, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='p...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x000001F4B5FC0E00>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x000001F4B56B7E20>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F4B5768BD0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x000001F4B56E0AE0>
                 └ <Router '0x1f4b5c3ec90'>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 136, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1f4b5e69b90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F4B576B710>,), 'bot': <aiogra...
                     │        │       └ Message(message_id=3716, date=datetime.datetime(2023, 10, 19, 20, 0, 21, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='p...
                     │        └ <function TelegramEventObserver.trigger at 0x000001F4B56B7F60>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x000001F4B5768BD0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 120, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1f4b5e69b90'>, 'bots': (<aiogram.client.bot.Bot object at 0x000001F4B576B710>,), 'bot': <aiogra...
                 │             └ Message(message_id=3716, date=datetime.datetime(2023, 10, 19, 20, 0, 21, tzinfo=TzInfo(UTC)), chat=Chat(id=462813109, type='p...
                 └ <function CallableMixin.call at 0x000001F4B5FC07C0>
  File "D:\Work Projects\Mega_Bot\Megafon_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 └ functools.partial(<function set_active_groups at 0x000001F4B5E5F740>, Message(message_id=3716, date=datetime.datetime(2023, 1...

> File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\handlers\combinations\set_groups.py", line 58, in set_active_groups
    await db_update_comb_group_status(uid, index_list)
          │                           │    └ [1]
          │                           └ 462813109
          └ <function db_update_comb_group_status at 0x000001F4B58BC4A0>

  File "D:\Work Projects\Mega_Bot\Megafon_bot_testing\database\db_action.py", line 505, in db_update_comb_group_status
    cur.execute(f"UPDATE {table_name} SET active = CASE WHEN group_index IN ({','.join(map(str, group_indexes))}) "
    │   └ <method 'execute' of 'sqlite3.Cursor' objects>
    └ <sqlite3.Cursor object at 0x000001F4B616C840>

sqlite3.OperationalError: no such column: group_index
2023-10-20 06:38:39.190 | ERROR    | handlers.combinations.get_avctive_groups:get_combinations:30 - Combinations not found
2023-10-20 09:43:36.599 | ERROR    | handlers.combinations.get_avctive_groups:get_combinations:30 - Combinations not found
2023-10-20 10:21:45.696 | ERROR    | handlers.combinations.get_avctive_groups:get_combinations:30 - Combinations not found
2023-10-20 10:23:34.098 | ERROR    | handlers.combinations.get_avctive_groups:get_combinations:30 - Combinations not found
2023-10-20 10:24:07.827 | ERROR    | handlers.combinations.get_avctive_groups:get_combinations:30 - Combinations not found
2023-10-20 10:25:35.819 | ERROR    | handlers.combinations.get_avctive_groups:get_combinations:30 - Combinations not found
2023-10-20 10:35:48.346 | ERROR    | handlers.combinations.set_groups:set_active_groups:65 - invalid literal for int() with base 10: '1m2'
2023-10-20 10:48:44.020 | ERROR    | handlers.combinations.get_avctive_groups:get_active_combinations:30 - Combinations not found
2023-10-20 10:48:53.665 | ERROR    | handlers.combinations.get_combinations:get_combinations_groups:30 - Combinations not found
2023-10-20 10:53:03.811 | ERROR    | handlers.regions.add_region:regs_added:51 - argument of type 'NoneType' is not iterable
2023-10-20 10:54:18.253 | ERROR    | handlers.regions.add_region:regs_added:52 - argument of type 'NoneType' is not iterable
2023-10-20 21:32:46.111 | ERROR    | __main__:main_func:41 - HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2023-10-20 21:32:46.114 | ERROR    | __main__:<module>:98 - HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
2023-10-20 22:00:22.997 | ERROR    | handlers.get_numbers:get_numbers_known_user:77 - Cannot connect to host api.shop.megafon.ru:443 ssl:default [None]
2023-10-20 22:00:40.916 | ERROR    | __main__:main_func:41 - HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Access is denied]
2023-10-20 22:00:40.919 | ERROR    | __main__:<module>:98 - HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Access is denied]
2023-10-20 22:00:47.340 | ERROR    | __main__:main_func:41 - HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Access is denied]
2023-10-20 22:00:47.342 | ERROR    | __main__:<module>:98 - HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Access is denied]
2023-10-22 18:31:24.722 | ERROR    | handlers.combinations.get_avctive_groups:get_active_combinations:30 - Combinations not found
2023-10-22 18:32:21.339 | ERROR    | handlers.combinations.get_avctive_groups:get_active_combinations:30 - Combinations not found
